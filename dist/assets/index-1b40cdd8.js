var _i=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ga=_i((Ea,A)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();const vn=Object.prototype.toString;function Rn(e){switch(vn.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return O(e,Error)}}function mt(e,t){return vn.call(e)===`[object ${t}]`}function xn(e){return mt(e,"ErrorEvent")}function Fe(e){return mt(e,"DOMError")}function pi(e){return mt(e,"DOMException")}function H(e){return mt(e,"String")}function Nn(e){return e===null||typeof e!="object"&&typeof e!="function"}function ct(e){return mt(e,"Object")}function ve(e){return typeof Event<"u"&&O(e,Event)}function hi(e){return typeof Element<"u"&&O(e,Element)}function wn(e){return mt(e,"RegExp")}function z(e){return!!(e&&e.then&&typeof e.then=="function")}function mi(e){return ct(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Dn(e){return typeof e=="number"&&e!==e}function O(e,t){try{return e instanceof t}catch{return!1}}function It(e){return e&&e.Math==Math?e:void 0}const I=typeof globalThis=="object"&&It(globalThis)||typeof window=="object"&&It(window)||typeof self=="object"&&It(self)||typeof global=="object"&&It(global)||function(){return this}()||{};function Vt(){return I}function Re(e,t,n){const i=n||I,s=i.__SENTRY__=i.__SENTRY__||{};return s[e]||(s[e]=t())}const At=Vt(),gi=80;function ut(e,t={}){try{let n=e;const i=5,s=[];let r=0,o=0;const a=" > ",c=a.length;let u;const l=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||gi;for(;n&&r++<i&&(u=yi(n,l),!(u==="html"||r>1&&o+s.length*c+u.length>=d));)s.push(u),o+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function yi(e,t){const n=e,i=[];let s,r,o,a,c;if(!n||!n.tagName)return"";i.push(n.tagName.toLowerCase());const u=t&&t.length?t.filter(d=>n.getAttribute(d)).map(d=>[d,n.getAttribute(d)]):null;if(u&&u.length)u.forEach(d=>{i.push(`[${d[0]}="${d[1]}"]`)});else if(n.id&&i.push(`#${n.id}`),s=n.className,s&&H(s))for(r=s.split(/\s+/),c=0;c<r.length;c++)i.push(`.${r[c]}`);const l=["aria-label","type","name","title","alt"];for(c=0;c<l.length;c++)o=l[c],a=n.getAttribute(o),a&&i.push(`[${o}="${a}"]`);return i.join("")}function Ei(){try{return At.document.location.href}catch{return""}}function Si(e){return At.document&&At.document.querySelector?At.document.querySelector(e):null}class x extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}const bi=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Ti(e){return e==="http"||e==="https"}function xe(e,t=!1){const{host:n,path:i,pass:s,port:r,projectId:o,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&s?`:${s}`:""}@${n}${r?`:${r}`:""}/${i&&`${i}/`}${o}`}function vi(e){const t=bi.exec(e);if(!t)throw new x(`Invalid Sentry Dsn: ${e}`);const[n,i,s="",r,o="",a]=t.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const d=u.match(/^\d+/);d&&(u=d[0])}return In({host:r,pass:s,path:c,projectId:u,port:o,protocol:n,publicKey:i})}function In(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Ri(e){if(!(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__))return;const{port:t,projectId:n,protocol:i}=e;if(["protocol","publicKey","host","projectId"].forEach(r=>{if(!e[r])throw new x(`Invalid Sentry Dsn: ${r} missing`)}),!n.match(/^\d+$/))throw new x(`Invalid Sentry Dsn: Invalid projectId ${n}`);if(!Ti(i))throw new x(`Invalid Sentry Dsn: Invalid protocol ${i}`);if(t&&isNaN(parseInt(t,10)))throw new x(`Invalid Sentry Dsn: Invalid port ${t}`);return!0}function xi(e){const t=typeof e=="string"?vi(e):In(e);return Ri(t),t}const Ni="Sentry Logger ",$t=["debug","info","warn","error","log","assert","trace"];function kn(e){if(!("console"in I))return e();const t=I.console,n={};$t.forEach(i=>{const s=t[i]&&t[i].__sentry_original__;i in t&&s&&(n[i]=t[i],t[i]=s)});try{return e()}finally{Object.keys(n).forEach(i=>{t[i]=n[i]})}}function je(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?$t.forEach(n=>{t[n]=(...i)=>{e&&kn(()=>{I.console[n](`${Ni}[${n}]:`,...i)})}}):$t.forEach(n=>{t[n]=()=>{}}),t}let f;typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?f=Re("logger",je):f=je();function Et(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function He(e,t){if(!Array.isArray(e))return"";const n=[];for(let i=0;i<e.length;i++){const s=e[i];try{n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function wi(e,t,n=!1){return H(e)?wn(t)?t.test(e):H(t)?n?e===t:e.includes(t):!1:!1}function Kt(e,t=[],n=!1){return t.some(i=>wi(e,i,n))}function b(e,t,n){if(!(t in e))return;const i=e[t],s=n(i);if(typeof s=="function")try{Bn(s,i)}catch{}e[t]=s}function Ne(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}function Bn(e,t){const n=t.prototype||{};e.prototype=t.prototype=n,Ne(e,"__sentry_original__",t)}function we(e){return e.__sentry_original__}function Di(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function On(e){if(Rn(e))return{message:e.message,name:e.name,stack:e.stack,...ze(e)};if(ve(e)){const t={type:e.type,target:qe(e.target),currentTarget:qe(e.currentTarget),...ze(e)};return typeof CustomEvent<"u"&&O(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function qe(e){try{return hi(e)?ut(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function ze(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Ii(e,t=40){const n=Object.keys(On(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Et(n[0],t);for(let i=n.length;i>0;i--){const s=n.slice(0,i).join(", ");if(!(s.length>t))return i===n.length?s:Et(s,t)}return""}function M(e){return fe(e,new Map)}function fe(e,t){if(ct(e)){const n=t.get(e);if(n!==void 0)return n;const i={};t.set(e,i);for(const s of Object.keys(e))typeof e[s]<"u"&&(i[s]=fe(e[s],t));return i}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const i=[];return t.set(e,i),e.forEach(s=>{i.push(fe(s,t))}),i}return e}const Un=50,We=/\(error: (.*)\)/;function Gn(...e){const t=e.sort((n,i)=>n[0]-i[0]).map(n=>n[1]);return(n,i=0)=>{const s=[],r=n.split(`
`);for(let o=i;o<r.length;o++){const a=r[o];if(a.length>1024)continue;const c=We.test(a)?a.replace(We,"$1"):a;for(const u of t){const l=u(c);if(l){s.push(l);break}}if(s.length>=Un)break}return Bi(s)}}function ki(e){return Array.isArray(e)?Gn(...e):e}function Bi(e){if(!e.length)return[];const t=e.slice(0,Un),n=t[t.length-1].function;n&&/sentryWrapped/.test(n)&&t.pop(),t.reverse();const i=t[t.length-1].function;return i&&/captureMessage|captureException/.test(i)&&t.pop(),t.map(s=>({...s,filename:s.filename||t[t.length-1].filename,function:s.function||"?"}))}const re="<anonymous>";function q(e){try{return!e||typeof e!="function"?re:e.name||re}catch{return re}}const X=Vt();function An(){if(!("fetch"in X))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function _e(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Oi(){if(!An())return!1;if(_e(X.fetch))return!0;let e=!1;const t=X.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=_e(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function Ui(){const e=X.chrome,t=e&&e.app&&e.app.runtime,n="history"in X&&!!X.history.pushState&&!!X.history.replaceState;return!t&&n}const S=Vt(),St={},Xe={};function Gi(e){if(!Xe[e])switch(Xe[e]=!0,e){case"console":Ai();break;case"dom":Hi();break;case"xhr":Pi();break;case"fetch":Yi();break;case"history":Mi();break;case"error":qi();break;case"unhandledrejection":zi();break;default:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn("unknown instrumentation type:",e);return}}function D(e,t){St[e]=St[e]||[],St[e].push(t),Gi(e)}function k(e,t){if(!(!e||!St[e]))for(const n of St[e]||[])try{n(t)}catch(i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${q(n)}
Error:`,i)}}function Ai(){"console"in S&&$t.forEach(function(e){e in S.console&&b(S.console,e,function(t){return function(...n){k("console",{args:n,level:e}),t&&t.apply(S.console,n)}})})}function Yi(){Oi()&&b(S,"fetch",function(e){return function(...t){const n={args:t,fetchData:{method:Li(t),url:$i(t)},startTimestamp:Date.now()};return k("fetch",{...n}),e.apply(S,t).then(i=>(k("fetch",{...n,endTimestamp:Date.now(),response:i}),i),i=>{throw k("fetch",{...n,endTimestamp:Date.now(),error:i}),i})}})}function Li(e=[]){return"Request"in S&&O(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function $i(e=[]){return typeof e[0]=="string"?e[0]:"Request"in S&&O(e[0],Request)?e[0].url:String(e[0])}function Pi(){if(!("XMLHttpRequest"in S))return;const e=XMLHttpRequest.prototype;b(e,"open",function(t){return function(...n){const i=n[1],s=this.__sentry_xhr__={method:H(n[0])?n[0].toUpperCase():n[0],url:n[1]};H(i)&&s.method==="POST"&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const r=()=>{const o=this.__sentry_xhr__;if(o&&this.readyState===4){try{o.status_code=this.status}catch{}k("xhr",{args:n,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:this})}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?b(this,"onreadystatechange",function(o){return function(...a){return r(),o.apply(this,a)}}):this.addEventListener("readystatechange",r),t.apply(this,n)}}),b(e,"send",function(t){return function(...n){return this.__sentry_xhr__&&n[0]!==void 0&&(this.__sentry_xhr__.body=n[0]),k("xhr",{args:n,startTimestamp:Date.now(),xhr:this}),t.apply(this,n)}})}let kt;function Mi(){if(!Ui())return;const e=S.onpopstate;S.onpopstate=function(...n){const i=S.location.href,s=kt;if(kt=i,k("history",{from:s,to:i}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...i){const s=i.length>2?i[2]:void 0;if(s){const r=kt,o=String(s);kt=o,k("history",{from:r,to:o})}return n.apply(this,i)}}b(S.history,"pushState",t),b(S.history,"replaceState",t)}const Ci=1e3;let Bt,Ot;function Fi(e,t){if(!e||e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch{}return!1}function ji(e){if(e.type!=="keypress")return!1;try{const t=e.target;if(!t||!t.tagName)return!0;if(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)return!1}catch{}return!0}function Je(e,t=!1){return n=>{if(!n||Ot===n||ji(n))return;const i=n.type==="keypress"?"input":n.type;Bt===void 0?(e({event:n,name:i,global:t}),Ot=n):Fi(Ot,n)&&(e({event:n,name:i,global:t}),Ot=n),clearTimeout(Bt),Bt=S.setTimeout(()=>{Bt=void 0},Ci)}}function Hi(){if(!("document"in S))return;const e=k.bind(null,"dom"),t=Je(e,!0);S.document.addEventListener("click",t,!1),S.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const i=S[n]&&S[n].prototype;!i||!i.hasOwnProperty||!i.hasOwnProperty("addEventListener")||(b(i,"addEventListener",function(s){return function(r,o,a){if(r==="click"||r=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},l=u[r]=u[r]||{refCount:0};if(!l.handler){const d=Je(e);l.handler=d,s.call(this,r,d,a)}l.refCount++}catch{}return s.call(this,r,o,a)}}),b(i,"removeEventListener",function(s){return function(r,o,a){if(r==="click"||r=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__||{},l=u[r];l&&(l.refCount--,l.refCount<=0&&(s.call(this,r,l.handler,a),l.handler=void 0,delete u[r]),Object.keys(u).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return s.call(this,r,o,a)}}))})}let oe=null;function qi(){oe=S.onerror,S.onerror=function(e,t,n,i,s){return k("error",{column:i,error:s,line:n,msg:e,url:t}),oe?oe.apply(this,arguments):!1}}let ae=null;function zi(){ae=S.onunhandledrejection,S.onunhandledrejection=function(e){return k("unhandledrejection",e),ae?ae.apply(this,arguments):!0}}function Wi(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(s){if(e)return t.has(s)?!0:(t.add(s),!1);for(let r=0;r<t.length;r++)if(t[r]===s)return!0;return t.push(s),!1}function i(s){if(e)t.delete(s);else for(let r=0;r<t.length;r++)if(t[r]===s){t.splice(r,1);break}}return[n,i]}function C(){const e=I,t=e.crypto||e.msCrypto;if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");const n=t&&t.getRandomValues?()=>t.getRandomValues(new Uint8Array(1))[0]:()=>Math.random()*16;return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,i=>(i^(n()&15)>>i/4).toString(16))}function Yn(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function J(e){const{message:t,event_id:n}=e;if(t)return t;const i=Yn(e);return i?i.type&&i.value?`${i.type}: ${i.value}`:i.type||i.value||n||"<unknown>":n||"<unknown>"}function pe(e,t,n){const i=e.exception=e.exception||{},s=i.values=i.values||[],r=s[0]=s[0]||{};r.value||(r.value=t||""),r.type||(r.type=n||"Error")}function Tt(e,t){const n=Yn(e);if(!n)return;const i={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...i,...s,...t},t&&"data"in t){const r={...s&&s.data,...t.data};n.mechanism.data=r}}function Ve(e){if(e&&e.__sentry_captured__)return!0;try{Ne(e,"__sentry_captured__",!0)}catch{}return!1}function Pt(e){return Array.isArray(e)?e:[e]}function Xi(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function Ji(){return"npm"}function De(){return!Xi()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function P(e,t){return e.require(t)}function K(e){let t;try{t=P(A,e)}catch{}try{const{cwd:n}=P(A,"process");t=P(A,`${n()}/node_modules/${e}`)}catch{}return t}function Y(e,t=1/0,n=1/0){try{return he("",e,t,n)}catch(i){return{ERROR:`**non-serializable** (${i})`}}}function Ln(e,t=3,n=100*1024){const i=Y(e,t);return Zi(i)>n?Ln(e,t-1,n):i}function he(e,t,n=1/0,i=1/0,s=Wi()){const[r,o]=s;if(t===null||["number","boolean","string"].includes(typeof t)&&!Dn(t))return t;const a=Vi(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;let c=n;if(typeof t.__sentry_override_normalization_depth__=="number"&&(c=t.__sentry_override_normalization_depth__),c===0)return a.replace("object ","");if(r(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const _=u.toJSON();return he("",_,c-1,i,s)}catch{}const l=Array.isArray(t)?[]:{};let d=0;const p=On(t);for(const _ in p){if(!Object.prototype.hasOwnProperty.call(p,_))continue;if(d>=i){l[_]="[MaxProperties ~]";break}const m=p[_];l[_]=he(_,m,c-1,i,s),d++}return o(t),l}function Vi(e,t){try{return e==="domain"&&t&&typeof t=="object"&&t._events?"[Domain]":e==="domainEmitter"?"[DomainEmitter]":typeof global<"u"&&t===global?"[Global]":typeof window<"u"&&t===window?"[Window]":typeof document<"u"&&t===document?"[Document]":mi(t)?"[SyntheticEvent]":typeof t=="number"&&t!==t?"[NaN]":t===void 0?"[undefined]":typeof t=="function"?`[Function: ${q(t)}]`:typeof t=="symbol"?`[${String(t)}]`:typeof t=="bigint"?`[BigInt: ${String(t)}]`:`[object ${Ki(t)}]`}catch(n){return`**non-serializable** (${n})`}}function Ki(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function Qi(e){return~-encodeURI(e).split(/%..|./).length}function Zi(e){return Qi(JSON.stringify(e))}var U;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const i=2;e[e.REJECTED=i]="REJECTED"})(U||(U={}));function Q(e){return new N(t=>{t(e)})}function Mt(e){return new N((t,n)=>{n(e)})}class N{__init(){this._state=U.PENDING}__init2(){this._handlers=[]}constructor(t){N.prototype.__init.call(this),N.prototype.__init2.call(this),N.prototype.__init3.call(this),N.prototype.__init4.call(this),N.prototype.__init5.call(this),N.prototype.__init6.call(this);try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new N((i,s)=>{this._handlers.push([!1,r=>{if(!t)i(r);else try{i(t(r))}catch(o){s(o)}},r=>{if(!n)s(r);else try{i(n(r))}catch(o){s(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new N((n,i)=>{let s,r;return this.then(o=>{r=!1,s=o,t&&t()},o=>{r=!0,s=o,t&&t()}).then(()=>{if(r){i(s);return}n(s)})})}__init3(){this._resolve=t=>{this._setResult(U.RESOLVED,t)}}__init4(){this._reject=t=>{this._setResult(U.REJECTED,t)}}__init5(){this._setResult=(t,n)=>{if(this._state===U.PENDING){if(z(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state===U.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===U.RESOLVED&&n[1](this._value),this._state===U.REJECTED&&n[2](this._value),n[0]=!0)})}}}function ts(e){const t=[];function n(){return e===void 0||t.length<e}function i(o){return t.splice(t.indexOf(o),1)[0]}function s(o){if(!n())return Mt(new x("Not adding Promise because buffer limit was reached."));const a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>i(a)).then(null,()=>i(a).then(null,()=>{})),a}function r(o){return new N((a,c)=>{let u=t.length;if(!u)return a(!0);const l=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(d=>{Q(d).then(()=>{--u||(clearTimeout(l),a(!0))},c)})})}return{$:t,add:s,drain:r}}function ce(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",i=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+i}}function es(e){return e.split(/[\?#]/,1)[0]}function Ct(e){return e.split(/\\?\//).filter(t=>t.length>0&&t!==",").length}function ns(e,t={}){const n=e.method&&e.method.toUpperCase();let i="",s="url";t.customRoute||e.route?(i=t.customRoute||`${e.baseUrl||""}${e.route&&e.route.path}`,s="route"):(e.originalUrl||e.url)&&(i=es(e.originalUrl||e.url||""));let r="";return t.method&&n&&(r+=n),t.method&&t.path&&(r+=" "),t.path&&i&&(r+=i),[r,s]}const is=["fatal","error","warning","log","info","debug"];function ss(e){return e==="warn"?"warning":is.includes(e)?e:"log"}const $n=Vt(),me={nowSeconds:()=>Date.now()/1e3};function rs(){const{performance:e}=$n;if(!e||!e.now)return;const t=Date.now()-e.now();return{now:()=>e.now(),timeOrigin:t}}function os(){try{return P(A,"perf_hooks").performance}catch{return}}const ue=De()?os():rs(),Ke=ue===void 0?me:{nowSeconds:()=>(ue.timeOrigin+ue.now())/1e3},Qt=me.nowSeconds.bind(me),Ie=Ke.nowSeconds.bind(Ke),vt=Ie,dt=(()=>{const{performance:e}=$n;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),i=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-i):t,r=s<t,o=e.timing&&e.timing.navigationStart,c=typeof o=="number"?Math.abs(o+n-i):t,u=c<t;return r||u?s<=c?e.timeOrigin:o:i})(),as=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function cs(e){const t=e.match(as);if(!e||!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Zt(e,t=[]){return[e,t]}function us(e,t){const[n,i]=e;return[n,[...i,t]]}function Qe(e,t){const n=e[1];for(const i of n){const s=i[0].type;if(t(i,s))return!0}return!1}function ge(e,t){return(t||new TextEncoder).encode(e)}function Pn(e,t){const[n,i]=e;let s=JSON.stringify(n);function r(o){typeof s=="string"?s=typeof o=="string"?s+o:[ge(s,t),o]:s.push(typeof o=="string"?ge(o,t):o)}for(const o of i){const[a,c]=o;if(r(`
${JSON.stringify(a)}
`),typeof c=="string"||c instanceof Uint8Array)r(c);else{let u;try{u=JSON.stringify(c)}catch{u=JSON.stringify(Y(c))}r(u)}}return typeof s=="string"?s:ds(s)}function ds(e){const t=e.reduce((s,r)=>s+r.length,0),n=new Uint8Array(t);let i=0;for(const s of e)n.set(s,i),i+=s.length;return n}function ls(e,t){const n=typeof e.data=="string"?ge(e.data,t):e.data;return[M({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const fs={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay"};function Ze(e){return fs[e]}function Mn(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function _s(e,t,n,i){const s=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&{dsn:xe(i)},...e.type==="transaction"&&s&&{trace:M({...s})}}}function ps(e,t,n){const i=[{type:"client_report"},{timestamp:n||Qt(),discarded_events:e}];return Zt(t?{dsn:t}:{},[i])}const hs=60*1e3;function ms(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const i=Date.parse(`${e}`);return isNaN(i)?hs:i-t}function gs(e,t){return e[t]||e.all||0}function ys(e,t,n=Date.now()){return gs(e,t)>n}function Es(e,{statusCode:t,headers:n},i=Date.now()){const s={...e},r=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(r)for(const a of r.trim().split(",")){const[c,u]=a.split(":",2),l=parseInt(c,10),d=(isNaN(l)?60:l)*1e3;if(!u)s.all=i+d;else for(const p of u.split(";"))s[p]=i+d}else o?s.all=i+ms(o,i):t===429&&(s.all=i+60*1e3);return s}const ye="baggage",Cn="sentry-",Ss=/^sentry-/,bs=8192;function Ts(e){if(!H(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce((i,s)=>{const r=tn(s);return{...i,...r}},{});else{if(!e)return;t=tn(e)}const n=Object.entries(t).reduce((i,[s,r])=>{if(s.match(Ss)){const o=s.slice(Cn.length);i[o]=r}return i},{});if(Object.keys(n).length>0)return n}function Fn(e){const t=Object.entries(e).reduce((n,[i,s])=>(s&&(n[`${Cn}${i}`]=s),n),{});return vs(t)}function tn(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,i])=>(t[n]=i,t),{})}function vs(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,i],s)=>{const r=`${encodeURIComponent(n)}=${encodeURIComponent(i)}`,o=s===0?r:`${t},${r}`;return o.length>bs?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`Not adding key: ${n} with val: ${i} to baggage header due to exceeding baggage size limits.`),t):o},"")}const ke="production";function Rs(e){const t=Ie(),n={sid:C(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Ns(n)};return e&&lt(n,e),n}function lt(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Ie(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:C()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function xs(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),lt(e,n)}function Ns(e){return M({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const ws=100;class F{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(t){const n=new F;return t&&(n._breadcrumbs=[...t._breadcrumbs],n._tags={...t._tags},n._extra={...t._extra},n._contexts={...t._contexts},n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=[...t._eventProcessors],n._requestSession=t._requestSession,n._attachments=[...t._attachments],n._sdkProcessingMetadata={...t._sdkProcessingMetadata}),n}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&lt(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if(typeof t=="function"){const n=t(this);return n instanceof F?n:this}return t instanceof F?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):ct(t)&&(t=t,this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(t,n){const i=typeof n=="number"?n:ws;if(i<=0)return this;const s={timestamp:Qt(),...t};return this._breadcrumbs=[...this._breadcrumbs,s].slice(-i),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(t,n={}){if(this._extra&&Object.keys(this._extra).length&&(t.extra={...this._extra,...t.extra}),this._tags&&Object.keys(this._tags).length&&(t.tags={...this._tags,...t.tags}),this._user&&Object.keys(this._user).length&&(t.user={...this._user,...t.user}),this._contexts&&Object.keys(this._contexts).length&&(t.contexts={...this._contexts,...t.contexts}),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts={trace:this._span.getTraceContext(),...t.contexts};const i=this._span.transaction&&this._span.transaction.name;i&&(t.tags={transaction:i,...t.tags})}return this._applyFingerprint(t),t.breadcrumbs=[...t.breadcrumbs||[],...this._breadcrumbs],t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...jn(),...this._eventProcessors],t,n)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}_notifyEventProcessors(t,n,i,s=0){return new N((r,o)=>{const a=t[s];if(n===null||typeof a!="function")r(n);else{const c=a({...n},i);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&a.id&&c===null&&f.log(`Event processor "${a.id}" dropped event`),z(c)?c.then(u=>this._notifyEventProcessors(t,u,i,s+1).then(r)).then(null,o):this._notifyEventProcessors(t,c,i,s+1).then(r).then(null,o)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}_applyFingerprint(t){t.fingerprint=t.fingerprint?Pt(t.fingerprint):[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}}function jn(){return Re("globalEventProcessors",()=>[])}function Be(e){jn().push(e)}const Oe=4,Ds=100;class wt{__init(){this._stack=[{}]}constructor(t,n=new F,i=Oe){this._version=i,wt.prototype.__init.call(this),this.getStackTop().scope=n,t&&this.bindClient(t)}isOlderThan(t){return this._version<t}bindClient(t){const n=this.getStackTop();n.client=t,t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=F.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){const n=this.pushScope();try{t(n)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,n){const i=this._lastEventId=n&&n.event_id?n.event_id:C(),s=new Error("Sentry syntheticException");return this._withClient((r,o)=>{r.captureException(t,{originalException:t,syntheticException:s,...n,event_id:i},o)}),i}captureMessage(t,n,i){const s=this._lastEventId=i&&i.event_id?i.event_id:C(),r=new Error(t);return this._withClient((o,a)=>{o.captureMessage(t,n,{originalException:t,syntheticException:r,...i,event_id:s},a)}),s}captureEvent(t,n){const i=n&&n.event_id?n.event_id:C();return t.type||(this._lastEventId=i),this._withClient((s,r)=>{s.captureEvent(t,{...n,event_id:i},r)}),i}lastEventId(){return this._lastEventId}addBreadcrumb(t,n){const{scope:i,client:s}=this.getStackTop();if(!i||!s)return;const{beforeBreadcrumb:r=null,maxBreadcrumbs:o=Ds}=s.getOptions&&s.getOptions()||{};if(o<=0)return;const c={timestamp:Qt(),...t},u=r?kn(()=>r(c,n)):c;u!==null&&(s.emit&&s.emit("beforeAddBreadcrumb",u,n),i.addBreadcrumb(u,o))}setUser(t){const n=this.getScope();n&&n.setUser(t)}setTags(t){const n=this.getScope();n&&n.setTags(t)}setExtras(t){const n=this.getScope();n&&n.setExtras(t)}setTag(t,n){const i=this.getScope();i&&i.setTag(t,n)}setExtra(t,n){const i=this.getScope();i&&i.setExtra(t,n)}setContext(t,n){const i=this.getScope();i&&i.setContext(t,n)}configureScope(t){const{scope:n,client:i}=this.getStackTop();n&&i&&t(n)}run(t){const n=en(this);try{t(this)}finally{en(n)}}getIntegration(t){const n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,n){return this._callExtensionMethod("startTransaction",t,n)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const t=this.getStackTop(),n=t&&t.scope,i=n&&n.getSession();i&&xs(i),this._sendSessionUpdate(),n&&n.setSession()}startSession(t){const{scope:n,client:i}=this.getStackTop(),{release:s,environment:r=ke}=i&&i.getOptions()||{},{userAgent:o}=I.navigator||{},a=Rs({release:s,environment:r,...n&&{user:n.getUser()},...o&&{userAgent:o},...t});if(n){const c=n.getSession&&n.getSession();c&&c.status==="ok"&&lt(c,{status:"exited"}),this.endSession(),n.setSession(a)}return a}shouldSendDefaultPii(){const t=this.getClient(),n=t&&t.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:n}=this.getStackTop();if(!t)return;const i=t.getSession();i&&n&&n.captureSession&&n.captureSession(i)}_withClient(t){const{scope:n,client:i}=this.getStackTop();i&&t(i,n)}_callExtensionMethod(t,...n){const s=gt().__SENTRY__;if(s&&s.extensions&&typeof s.extensions[t]=="function")return s.extensions[t].apply(this,n);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function gt(){return I.__SENTRY__=I.__SENTRY__||{extensions:{},hub:void 0},I}function en(e){const t=gt(),n=$(t);return Ue(t,e),n}function T(){const e=gt();return(!Hn(e)||$(e).isOlderThan(Oe))&&Ue(e,new wt),De()?Is(e):$(e)}function Is(e){try{const t=gt().__SENTRY__,n=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!n)return $(e);if(!Hn(n)||$(n).isOlderThan(Oe)){const i=$(e).getStackTop();Ue(n,new wt(i.client,F.clone(i.scope)))}return $(n)}catch{return $(e)}}function Hn(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function $(e){return Re("hub",()=>new wt,e)}function Ue(e,t){if(!e)return!1;const n=e.__SENTRY__=e.__SENTRY__||{};return n.hub=t,!0}function Ge(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=T().getClient(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function te(e){const n=(e||T()).getScope();return n&&n.getTransaction()}let nn=!1;function ks(){nn||(nn=!0,D("error",sn),D("unhandledrejection",sn))}function sn(){const e=te();if(e){const t="internal_error";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}class ee{__init(){this.spans=[]}constructor(t=1e3){ee.prototype.__init.call(this),this._maxlen=t}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}class G{__init2(){this.traceId=C()}__init3(){this.spanId=C().substring(16)}__init4(){this.startTimestamp=vt()}__init5(){this.tags={}}__init6(){this.data={}}__init7(){this.instrumenter="sentry"}constructor(t){if(G.prototype.__init2.call(this),G.prototype.__init3.call(this),G.prototype.__init4.call(this),G.prototype.__init5.call(this),G.prototype.__init6.call(this),G.prototype.__init7.call(this),!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp),t.instrumenter&&(this.instrumenter=t.instrumenter)}startChild(t){const n=new G({...t,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&n.transaction){const i=t&&t.op||"< unknown op >",s=n.transaction.name||"< unknown name >",r=n.transaction.spanId,o=`[Tracing] Starting '${i}' span on transaction '${s}' (${r}).`;n.transaction.metadata.spanMetadata[n.spanId]={logMessage:o},f.log(o)}return n}setTag(t,n){return this.tags={...this.tags,[t]:n},this}setData(t,n){return this.data={...this.data,[t]:n},this}setStatus(t){return this.status=t,this}setHttpStatus(t){this.setTag("http.status_code",String(t));const n=Bs(t);return n!=="unknown_error"&&this.setStatus(n),this}isSuccess(){return this.status==="ok"}finish(t){if((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:n}=this.transaction.metadata.spanMetadata[this.spanId];n&&f.log(n.replace("Starting","Finishing"))}this.endTimestamp=typeof t=="number"?t:vt()}toTraceparent(){let t="";return this.sampled!==void 0&&(t=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${t}`}toContext(){return M({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(t){return this.data=t.data||{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=t.spanId||this.spanId,this.startTimestamp=t.startTimestamp||this.startTimestamp,this.status=t.status,this.tags=t.tags||{},this.traceId=t.traceId||this.traceId,this}getTraceContext(){return M({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return M({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}function Bs(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}class it extends G{__init(){this._measurements={}}__init2(){this._contexts={}}__init3(){this._frozenDynamicSamplingContext=void 0}constructor(t,n){super(t),it.prototype.__init.call(this),it.prototype.__init2.call(this),it.prototype.__init3.call(this),this._hub=n||T(),this._name=t.name||"",this.metadata={source:"custom",...t.metadata,spanMetadata:{}},this._trimEnd=t.trimEnd,this.transaction=this;const i=this.metadata.dynamicSamplingContext;i&&(this._frozenDynamicSamplingContext={...i})}get name(){return this._name}set name(t){this.setName(t)}setName(t,n="custom"){this._name=t,this.metadata.source=n}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new ee(t)),this.spanRecorder.add(this)}setContext(t,n){n===null?delete this._contexts[t]:this._contexts[t]=n}setMeasurement(t,n,i=""){this._measurements[t]={value:n,unit:i}}setMetadata(t){this.metadata={...this.metadata,...t}}finish(t){if(this.endTimestamp!==void 0)return;this.name||((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(t);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this.sampled!==!0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const i=this.spanRecorder?this.spanRecorder.spans.filter(a=>a!==this&&a.endTimestamp):[];this._trimEnd&&i.length>0&&(this.endTimestamp=i.reduce((a,c)=>a.endTimestamp&&c.endTimestamp?a.endTimestamp>c.endTimestamp?a:c:a).endTimestamp);const s=this.metadata,r={contexts:{...this._contexts,trace:this.getTraceContext()},spans:i,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...s,dynamicSamplingContext:this.getDynamicSamplingContext()},...s.source&&{transaction_info:{source:s.source}}};return Object.keys(this._measurements).length>0&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),r.measurements=this._measurements),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(r)}toContext(){const t=super.toContext();return M({...t,name:this.name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this.name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const t=this._hub||T(),n=t&&t.getClient();if(!n)return{};const{environment:i,release:s}=n.getOptions()||{},{publicKey:r}=n.getDsn()||{},o=this.metadata.sampleRate,a=o!==void 0?o.toString():void 0,c=t.getScope(),{segment:u}=c&&c.getUser()||{},l=this.metadata.source,d=l&&l!=="url"?this.name:void 0;return M({environment:i||ke,release:s,transaction:d,user_segment:u,public_key:r,trace_id:this.traceId,sample_rate:a})}}const Yt={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},Os="finishReason",nt=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class Us extends ee{constructor(t,n,i,s){super(s),this._pushActivity=t,this._popActivity=n,this.transactionSpanId=i}add(t){t.spanId!==this.transactionSpanId&&(t.finish=n=>{t.endTimestamp=typeof n=="number"?n:vt(),this._popActivity(t.spanId)},t.endTimestamp===void 0&&this._pushActivity(t.spanId)),super.add(t)}}class L extends it{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._idleTimeoutCanceledPermanently=!1}__init5(){this._beforeFinishCallbacks=[]}__init6(){this._finishReason=nt[4]}constructor(t,n,i=Yt.idleTimeout,s=Yt.finalTimeout,r=Yt.heartbeatInterval,o=!1){super(t,n),this._idleHub=n,this._idleTimeout=i,this._finalTimeout=s,this._heartbeatInterval=r,this._onScope=o,L.prototype.__init.call(this),L.prototype.__init2.call(this),L.prototype.__init3.call(this),L.prototype.__init4.call(this),L.prototype.__init5.call(this),L.prototype.__init6.call(this),o&&(rn(n),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),n.configureScope(a=>a.setSpan(this))),this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=nt[3],this.finish())},this._finalTimeout)}finish(t=vt()){if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setTag(Os,this._finishReason),this.spanRecorder){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Tracing] finishing IdleTransaction",new Date(t*1e3).toISOString(),this.op);for(const n of this._beforeFinishCallbacks)n(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter(n=>{if(n.spanId===this.spanId)return!0;n.endTimestamp||(n.endTimestamp=t,n.setStatus("cancelled"),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(n,void 0,2)));const i=n.startTimestamp<t;return i||(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(n,void 0,2)),i}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Tracing] flushing IdleTransaction")}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Tracing] No active IdleTransaction");return this._onScope&&rn(this._idleHub),super.finish(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){const n=s=>{this._finished||this._pushActivity(s)},i=s=>{this._finished||this._popActivity(s)};this.spanRecorder=new Us(n,i,this.spanId,t),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:n}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=n===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=nt[5],this.finish(t)))}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=nt[1],this.finish(t))},this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`[Tracing] popActivity ${t}`),delete this.activities[t],(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const n=vt();this._idleTimeoutCanceledPermanently?(this._finishReason=nt[5],this.finish(n)):this._restartIdleTimeout(n+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=nt[0],this.finish()):this._pingHeartbeat()}_pingHeartbeat(){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function rn(e){const t=e.getScope();t&&t.getTransaction()&&t.setSpan(void 0)}function Gs(){const e=this.getScope();if(e){const t=e.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}}function qn(e,t,n){if(!Ge(t))return e.sampled=!1,e;if(e.sampled!==void 0)return e.setMetadata({sampleRate:Number(e.sampled)}),e;let i;return typeof t.tracesSampler=="function"?(i=t.tracesSampler(n),e.setMetadata({sampleRate:Number(i)})):n.parentSampled!==void 0?i=n.parentSampled:typeof t.tracesSampleRate<"u"?(i=t.tracesSampleRate,e.setMetadata({sampleRate:Number(i)})):(i=1,e.setMetadata({sampleRate:i})),As(i)?i?(e.sampled=Math.random()<i,e.sampled?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`[Tracing] starting ${e.op} transaction - ${e.name}`),e):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),e)):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),e.sampled=!1,e):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function As(e){return Dn(e)||!(typeof e=="number"||typeof e=="boolean")?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e<0||e>1?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function Ys(e,t){const n=this.getClient(),i=n&&n.getOptions()||{},s=i.instrumenter||"sentry",r=e.instrumenter||"sentry";s!==r&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.error(`A transaction was started with instrumenter=\`${r}\`, but the SDK is configured with the \`${s}\` instrumenter.
The transaction will not be sampled. Please use the ${s} instrumentation to start transactions.`),e.sampled=!1);let o=new it(e,this);return o=qn(o,i,{parentSampled:e.parentSampled,transactionContext:e,...t}),o.sampled&&o.initSpanRecorder(i._experiments&&i._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",o),o}function on(e,t,n,i,s,r,o){const a=e.getClient(),c=a&&a.getOptions()||{};let u=new L(t,e,n,i,o,s);return u=qn(u,c,{parentSampled:t.parentSampled,transactionContext:t,...r}),u.sampled&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),a&&a.emit&&a.emit("startTransaction",u),u}function zn(){const e=gt();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=Ys),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=Gs),ks())}function Ls(e,t){return T().captureException(e,{captureContext:t})}function $s(e){T().withScope(e)}const Ps="7";function Ms(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Cs(e){return`${Ms(e)}${e.projectId}/envelope/`}function Fs(e,t){return Di({sentry_key:e.publicKey,sentry_version:Ps,...t&&{sentry_client:`${t.name}/${t.version}`}})}function Wn(e,t={}){const n=typeof t=="string"?t:t.tunnel,i=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return n||`${Cs(e)}?${Fs(e,i)}`}function js(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function Hs(e,t,n,i){const s=Mn(n),r={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!i&&{dsn:xe(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e];return Zt(r,[o])}function qs(e,t,n,i){const s=Mn(n),r=e.type&&e.type!=="replay_event"?e.type:"event";js(e,n&&n.sdk);const o=_s(e,s,i,t);return delete e.sdkProcessingMetadata,Zt(o,[[{type:r},e]])}const an=[];function zs(e){const t={};return e.forEach(n=>{const{name:i}=n,s=t[i];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[i]=n)}),Object.keys(t).map(n=>t[n])}function Ws(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let i;Array.isArray(n)?i=[...t,...n]:typeof n=="function"?i=Pt(n(t)):i=t;const s=zs(i),r=Js(s,o=>o.name==="Debug");if(r!==-1){const[o]=s.splice(r,1);s.push(o)}return s}function Xs(e){const t={};return e.forEach(n=>{n&&Xn(n,t)}),t}function Xn(e,t){t[e.name]=e,an.indexOf(e.name)===-1&&(e.setupOnce(Be,T),an.push(e.name),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`Integration installed: ${e.name}`))}function Js(e,t){for(let n=0;n<e.length;n++)if(t(e[n])===!0)return n;return-1}function Vs(e,t,n,i){const{normalizeDepth:s=3,normalizeMaxBreadth:r=1e3}=e,o={...t,event_id:t.event_id||n.event_id||C(),timestamp:t.timestamp||Qt()},a=n.integrations||e.integrations.map(l=>l.name);Ks(o,e),Zs(o,a),Qs(o,e.stackParser);let c=i;n.captureContext&&(c=F.clone(c).update(n.captureContext));let u=Q(o);if(c){if(c.getAttachments){const l=[...n.attachments||[],...c.getAttachments()];l.length&&(n.attachments=l)}u=c.applyToEvent(o,n)}return u.then(l=>typeof s=="number"&&s>0?tr(l,s,r):l)}function Ks(e,t){const{environment:n,release:i,dist:s,maxValueLength:r=250}=t;"environment"in e||(e.environment="environment"in t?n:ke),e.release===void 0&&i!==void 0&&(e.release=i),e.dist===void 0&&s!==void 0&&(e.dist=s),e.message&&(e.message=Et(e.message,r));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=Et(o.value,r));const a=e.request;a&&a.url&&(a.url=Et(a.url,r))}function Qs(e,t){const n=I._sentryDebugIds;if(!n)return;const i=Object.keys(n).reduce((o,a)=>{const c=t(a);for(const u of c)if(u.abs_path){o[u.abs_path]=n[a];break}return o},{}),s=new Set;try{e.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.abs_path&&s.add(a.abs_path)})})}catch{}e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const r=e.debug_meta.images;s.forEach(o=>{i[o]&&r.push({type:"sourcemap",code_file:o,debug_id:i[o]})})}function Zs(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function tr(e,t,n){if(!e)return null;const i={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(s=>({...s,...s.data&&{data:Y(s.data,t,n)}}))},...e.user&&{user:Y(e.user,t,n)},...e.contexts&&{contexts:Y(e.contexts,t,n)},...e.extra&&{extra:Y(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&i.contexts&&(i.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(i.contexts.trace.data=Y(e.contexts.trace.data,t,n))),e.spans&&(i.spans=e.spans.map(s=>(s.data&&(s.data=Y(s.data,t,n)),s))),i}const cn="Not capturing exception because it's already been captured.";class W{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}__init5(){this._hooks={}}constructor(t){if(W.prototype.__init.call(this),W.prototype.__init2.call(this),W.prototype.__init3.call(this),W.prototype.__init4.call(this),W.prototype.__init5.call(this),this._options=t,t.dsn){this._dsn=xi(t.dsn);const n=Wn(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn("No DSN provided, client will not do anything.")}captureException(t,n,i){if(Ve(t)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(cn);return}let s=n&&n.event_id;return this._process(this.eventFromException(t,n).then(r=>this._captureEvent(r,n,i)).then(r=>{s=r})),s}captureMessage(t,n,i,s){let r=i&&i.event_id;const o=Nn(t)?this.eventFromMessage(String(t),n,i):this.eventFromException(t,i);return this._process(o.then(a=>this._captureEvent(a,i,s)).then(a=>{r=a})),r}captureEvent(t,n,i){if(n&&n.originalException&&Ve(n.originalException)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(cn);return}let s=n&&n.event_id;return this._process(this._captureEvent(t,n,i).then(r=>{s=r})),s}captureSession(t){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn("SDK not enabled, will not capture session.");return}typeof t.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),lt(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?this._isClientDoneProcessing(t).then(i=>n.flush(t).then(s=>i&&s)):Q(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,n))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=Xs(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){Xn(t,this._integrations)}sendEvent(t,n={}){if(this._dsn){let i=qs(t,this._dsn,this._options._metadata,this._options.tunnel);for(const r of n.attachments||[])i=us(i,ls(r,this._options.transportOptions&&this._options.transportOptions.textEncoder));const s=this._sendEnvelope(i);s&&s.then(r=>this.emit("afterSendEvent",t,r),null)}}sendSession(t){if(this._dsn){const n=Hs(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}}recordDroppedEvent(t,n,i){if(this._options.sendClientReports){const s=`${t}:${n}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`Adding outcome: "${s}"`),this._outcomes[s]=this._outcomes[s]+1||1}}on(t,n){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(n)}emit(t,...n){this._hooks[t]&&this._hooks[t].forEach(i=>i(...n))}_updateSessionFromEvent(t,n){let i=!1,s=!1;const r=n.exception&&n.exception.values;if(r){s=!0;for(const c of r){const u=c.mechanism;if(u&&u.handled===!1){i=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&i)&&(lt(t,{...i&&{status:"crashed"},errors:t.errors||Number(s||i)}),this.captureSession(t))}_isClientDoneProcessing(t){return new N(n=>{let i=0;const s=1,r=setInterval(()=>{this._numProcessing==0?(clearInterval(r),n(!0)):(i+=s,t&&i>=t&&(clearInterval(r),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(t,n,i){const s=this.getOptions(),r=Object.keys(this._integrations);return!n.integrations&&r.length>0&&(n.integrations=r),Vs(s,t,n,i)}_captureEvent(t,n={},i){return this._processEvent(t,n,i).then(s=>s.event_id,s=>{if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){const r=s;r.logLevel==="log"?f.log(r.message):f.warn(r)}})}_processEvent(t,n,i){const s=this.getOptions(),{sampleRate:r}=s;if(!this._isEnabled())return Mt(new x("SDK not enabled, will not capture event.","log"));const o=Vn(t),a=Jn(t),c=t.type||"error",u=`before send for type \`${c}\``;if(a&&typeof r=="number"&&Math.random()>r)return this.recordDroppedEvent("sample_rate","error",t),Mt(new x(`Discarding event because it's not included in the random sample (sampling rate = ${r})`,"log"));const l=c==="replay_event"?"replay":c;return this._prepareEvent(t,n,i).then(d=>{if(d===null)throw this.recordDroppedEvent("event_processor",l,t),new x("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return d;const _=nr(s,d,n);return er(_,u)}).then(d=>{if(d===null)throw this.recordDroppedEvent("before_send",l,t),new x(`${u} returned \`null\`, will not send event.`,"log");const p=i&&i.getSession();!o&&p&&this._updateSessionFromEvent(p,d);const _=d.transaction_info;if(o&&_&&d.transaction!==t.transaction){const m="custom";d.transaction_info={..._,source:m}}return this.sendEvent(d,n),d}).then(null,d=>{throw d instanceof x?d:(this.captureException(d,{data:{__sentry__:!0},originalException:d}),new x(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${d}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(t){if(this._transport&&this._dsn)return this.emit("beforeEnvelope",t),this._transport.send(t).then(null,n=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.error("Error while sending event:",n)});(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map(n=>{const[i,s]=n.split(":");return{reason:i,category:s,quantity:t[n]}})}}function er(e,t){const n=`${t} must return \`null\` or a valid event.`;if(z(e))return e.then(i=>{if(!ct(i)&&i!==null)throw new x(n);return i},i=>{throw new x(`${t} rejected with ${i}`)});if(!ct(e)&&e!==null)throw new x(n);return e}function nr(e,t,n){const{beforeSend:i,beforeSendTransaction:s}=e;return Jn(t)&&i?i(t,n):Vn(t)&&s?s(t,n):t}function Jn(e){return e.type===void 0}function Vn(e){return e.type==="transaction"}function ir(e,t){t.debug===!0&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?f.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const n=T(),i=n.getScope();i&&i.update(t.initialScope);const s=new e(t);n.bindClient(s)}const sr=30;function Kn(e,t,n=ts(e.bufferSize||sr)){let i={};const s=o=>n.drain(o);function r(o){const a=[];if(Qe(o,(d,p)=>{const _=Ze(p);if(ys(i,_)){const m=un(d,p);e.recordDroppedEvent("ratelimit_backoff",_,m)}else a.push(d)}),a.length===0)return Q();const c=Zt(o[0],a),u=d=>{Qe(c,(p,_)=>{const m=un(p,_);e.recordDroppedEvent(d,Ze(_),m)})},l=()=>t({body:Pn(c,e.textEncoder)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),i=Es(i,d),d),d=>{throw u("network_error"),d});return n.add(l).then(d=>d,d=>{if(d instanceof x)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.error("Skipped sending event because buffer is full."),u("queue_overflow"),Q();throw d})}return r.__sentry__baseTransport__=!0,{send:r,flush:s}}function un(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}const dn="7.44.1";let ln;class Rt{constructor(){Rt.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=Rt.id}setupOnce(){ln=Function.prototype.toString,Function.prototype.toString=function(...t){const n=we(this)||this;return ln.apply(n,t)}}}Rt.__initStatic();const rr=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class st{static __initStatic(){this.id="InboundFilters"}__init(){this.name=st.id}constructor(t={}){this._options=t,st.prototype.__init.call(this)}setupOnce(t,n){const i=s=>{const r=n();if(r){const o=r.getIntegration(st);if(o){const a=r.getClient(),c=a?a.getOptions():{},u=or(o._options,c);return ar(s,u)?null:s}}return s};i.id=this.name,t(i)}}st.__initStatic();function or(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...rr],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function ar(e,t){return t.ignoreInternal&&fr(e)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`Event dropped due to being internal Sentry Error.
Event: ${J(e)}`),!0):cr(e,t.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${J(e)}`),!0):ur(e,t.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${J(e)}.
Url: ${Ft(e)}`),!0):dr(e,t.allowUrls)?!1:((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${J(e)}.
Url: ${Ft(e)}`),!0)}function cr(e,t){return!t||!t.length?!1:lr(e).some(n=>Kt(n,t))}function ur(e,t){if(!t||!t.length)return!1;const n=Ft(e);return n?Kt(n,t):!1}function dr(e,t){if(!t||!t.length)return!0;const n=Ft(e);return n?Kt(n,t):!0}function lr(e){if(e.message)return[e.message];if(e.exception)try{const{type:t="",value:n=""}=e.exception.values&&e.exception.values[0]||{};return[`${n}`,`${t}: ${n}`]}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.error(`Cannot extract message for event ${J(e)}`),[]}return[]}function fr(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function _r(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Ft(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?_r(t):null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.error(`Cannot extract url for event ${J(e)}`),null}}const g=I;let Ee=0;function Qn(){return Ee>0}function pr(){Ee++,setTimeout(()=>{Ee--})}function ft(e,t={},n){if(typeof e!="function")return e;try{const s=e.__sentry_wrapped__;if(s)return s;if(we(e))return e}catch{return e}const i=function(){const s=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const r=s.map(o=>ft(o,t));return e.apply(this,r)}catch(r){throw pr(),$s(o=>{o.addEventProcessor(a=>(t.mechanism&&(pe(a,void 0,void 0),Tt(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),Ls(r)}),r}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s])}catch{}Bn(i,e),Ne(e,"__sentry_wrapped__",i);try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get(){return e.name}})}catch{}return i}function Zn(e,t){const n=Ae(e,t),i={type:t&&t.name,value:yr(t)};return n.length&&(i.stacktrace={frames:n}),i.type===void 0&&i.value===""&&(i.value="Unrecoverable error caught"),i}function hr(e,t,n,i){const r=T().getClient(),o=r&&r.getOptions().normalizeDepth,a={exception:{values:[{type:ve(t)?t.constructor.name:i?"UnhandledRejection":"Error",value:`Non-Error ${i?"promise rejection":"exception"} captured with keys: ${Ii(t)}`}]},extra:{__serialized__:Ln(t,o)}};if(n){const c=Ae(e,n);c.length&&(a.exception.values[0].stacktrace={frames:c})}return a}function de(e,t){return{exception:{values:[Zn(e,t)]}}}function Ae(e,t){const n=t.stacktrace||t.stack||"",i=gr(t);try{return e(n,i)}catch{}return[]}const mr=/Minified React error #\d+;/i;function gr(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(mr.test(e.message))return 1}return 0}function yr(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function Er(e,t,n,i){const s=n&&n.syntheticException||void 0,r=Ye(e,t,s,i);return Tt(r),r.level="error",n&&n.event_id&&(r.event_id=n.event_id),Q(r)}function Sr(e,t,n="info",i,s){const r=i&&i.syntheticException||void 0,o=Se(e,t,r,s);return o.level=n,i&&i.event_id&&(o.event_id=i.event_id),Q(o)}function Ye(e,t,n,i,s){let r;if(xn(t)&&t.error)return de(e,t.error);if(Fe(t)||pi(t)){const o=t;if("stack"in t)r=de(e,t);else{const a=o.name||(Fe(o)?"DOMError":"DOMException"),c=o.message?`${a}: ${o.message}`:a;r=Se(e,c,n,i),pe(r,c)}return"code"in o&&(r.tags={...r.tags,"DOMException.code":`${o.code}`}),r}return Rn(t)?de(e,t):ct(t)||ve(t)?(r=hr(e,t,n,s),Tt(r,{synthetic:!0}),r):(r=Se(e,t,n,i),pe(r,`${t}`,void 0),Tt(r,{synthetic:!0}),r)}function Se(e,t,n,i){const s={message:t};if(i&&n){const r=Ae(e,n);r.length&&(s.exception={values:[{value:t,stacktrace:{frames:r}}]})}return s}const Ut=1024,ti="Breadcrumbs";class xt{static __initStatic(){this.id=ti}__init(){this.name=xt.id}constructor(t){xt.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t}}setupOnce(){this.options.console&&D("console",Tr),this.options.dom&&D("dom",br(this.options.dom)),this.options.xhr&&D("xhr",vr),this.options.fetch&&D("fetch",Rr),this.options.history&&D("history",xr)}addSentryBreadcrumb(t){this.options.sentry&&T().addBreadcrumb({category:`sentry.${t.type==="transaction"?"transaction":"event"}`,event_id:t.event_id,level:t.level,message:J(t)},{event:t})}}xt.__initStatic();function br(e){function t(n){let i,s=typeof e=="object"?e.serializeAttribute:void 0,r=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;r&&r>Ut&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`\`dom.maxStringLength\` cannot exceed ${Ut}, but a value of ${r} was configured. Sentry will use ${Ut} instead.`),r=Ut),typeof s=="string"&&(s=[s]);try{const o=n.event;i=Nr(o)?ut(o.target,{keyAttrs:s,maxStringLength:r}):ut(o,{keyAttrs:s,maxStringLength:r})}catch{i="<unknown>"}i.length!==0&&T().addBreadcrumb({category:`ui.${n.name}`,message:i},{event:n.event,name:n.name,global:n.global})}return t}function Tr(e){for(let n=0;n<e.args.length;n++)if(e.args[n]==="ref=Ref<"){e.args[n+1]="viewRef";break}const t={category:"console",data:{arguments:e.args,logger:"console"},level:ss(e.level),message:He(e.args," ")};if(e.level==="assert")if(e.args[0]===!1)t.message=`Assertion failed: ${He(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1);else return;T().addBreadcrumb(t,{input:e.args,level:e.level})}function vr(e){const{startTimestamp:t,endTimestamp:n}=e;if(!t||!n||!e.xhr.__sentry_xhr__)return;const{method:i,url:s,status_code:r,body:o}=e.xhr.__sentry_xhr__,a={method:i,url:s,status_code:r},c={xhr:e.xhr,input:o,startTimestamp:t,endTimestamp:n};T().addBreadcrumb({category:"xhr",data:a,type:"http"},c)}function Rr(e){const{startTimestamp:t,endTimestamp:n}=e;if(n&&!(e.fetchData.url.match(/sentry_key/)&&e.fetchData.method==="POST"))if(e.error){const i=e.fetchData,s={data:e.error,input:e.args,startTimestamp:t,endTimestamp:n};T().addBreadcrumb({category:"fetch",data:i,level:"error",type:"http"},s)}else{const i={...e.fetchData,status_code:e.response&&e.response.status},s={input:e.args,response:e.response,startTimestamp:t,endTimestamp:n};T().addBreadcrumb({category:"fetch",data:i,type:"http"},s)}}function xr(e){let t=e.from,n=e.to;const i=ce(g.location.href);let s=ce(t);const r=ce(n);s.path||(s=i),i.protocol===r.protocol&&i.host===r.host&&(n=r.relative),i.protocol===s.protocol&&i.host===s.host&&(t=s.relative),T().addBreadcrumb({category:"navigation",data:{from:t,to:n}})}function Nr(e){return e&&!!e.target}class wr extends W{constructor(t){const n=g.SENTRY_SDK_SOURCE||Ji();t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${n}:@sentry/browser`,version:dn}],version:dn},super(t),t.sendClientReports&&g.document&&g.document.addEventListener("visibilitychange",()=>{g.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return Er(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",i){return Sr(this._options.stackParser,t,n,i,this._options.attachStacktrace)}sendEvent(t,n){const i=this.getIntegrationById(ti);i&&i.addSentryBreadcrumb&&i.addSentryBreadcrumb(t),super.sendEvent(t,n)}_prepareEvent(t,n,i){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,i)}_flushOutcomes(){const t=this._clearOutcomes();if(t.length===0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("Sending outcomes:",t);const n=Wn(this._dsn,this._options),i=ps(t,this._options.tunnel&&xe(this._dsn));try{Object.prototype.toString.call(g&&g.navigator)==="[object Navigator]"&&typeof g.navigator.sendBeacon=="function"&&!this._options.transportOptions?g.navigator.sendBeacon.bind(g.navigator)(n,Pn(i)):this._sendEnvelope(i)}catch(s){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.error(s)}}}let yt;function Dr(){if(yt)return yt;if(_e(g.fetch))return yt=g.fetch.bind(g);const e=g.document;let t=g.fetch;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const i=n.contentWindow;i&&i.fetch&&(t=i.fetch),e.head.removeChild(n)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return yt=t.bind(g)}function Ir(){yt=void 0}function kr(e,t=Dr()){function n(i){const s={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:i.body.length<=65536,...e.fetchOptions};try{return t(e.url,s).then(r=>({statusCode:r.status,headers:{"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")}}))}catch(r){return Ir(),Mt(r)}}return Kn(e,n)}const Br=4;function Or(e){function t(n){return new N((i,s)=>{const r=new XMLHttpRequest;r.onerror=s,r.onreadystatechange=()=>{r.readyState===Br&&i({statusCode:r.status,headers:{"x-sentry-rate-limits":r.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":r.getResponseHeader("Retry-After")}})},r.open("POST",e.url);for(const o in e.headers)Object.prototype.hasOwnProperty.call(e.headers,o)&&r.setRequestHeader(o,e.headers[o]);r.send(n.body)})}return Kn(e,t)}const ne="?",Ur=30,Gr=40,Ar=50;function Le(e,t,n,i){const s={filename:e,abs_path:e,function:t,in_app:!0};return n!==void 0&&(s.lineno=n),i!==void 0&&(s.colno=i),s}const Yr=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?(?:async )?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Lr=/\((\S*)(?::(\d+))(?::(\d+))\)/,$r=e=>{const t=Yr.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){const r=Lr.exec(t[2]);r&&(t[2]=r[1],t[3]=r[2],t[4]=r[3])}const[i,s]=ei(t[1]||ne,t[2]);return Le(s,i,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},Pr=[Ur,$r],Mr=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Cr=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Fr=e=>{const t=Mr.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const r=Cr.exec(t[3]);r&&(t[1]=t[1]||"eval",t[3]=r[1],t[4]=r[2],t[5]="")}let i=t[3],s=t[1]||ne;return[s,i]=ei(s,i),Le(i,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},jr=[Ar,Fr],Hr=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,qr=e=>{const t=Hr.exec(e);return t?Le(t[2],t[1]||ne,+t[3],t[4]?+t[4]:void 0):void 0},zr=[Gr,qr],Wr=[Pr,jr,zr],Xr=Gn(...Wr),ei=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,i=e.indexOf("safari-web-extension")!==-1;return n||i?[e.indexOf("@")!==-1?e.split("@")[0]:ne,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};class j{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=j.id}__init2(){this._installFunc={onerror:Jr,onunhandledrejection:Vr}}constructor(t){j.prototype.__init.call(this),j.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...t}}setupOnce(){Error.stackTraceLimit=50;const t=this._options;for(const n in t){const i=this._installFunc[n];i&&t[n]&&(Zr(n),i(),this._installFunc[n]=void 0)}}}j.__initStatic();function Jr(){D("error",e=>{const[t,n,i]=si();if(!t.getIntegration(j))return;const{msg:s,url:r,line:o,column:a,error:c}=e;if(Qn()||c&&c.__sentry_own_request__)return;const u=c===void 0&&H(s)?Qr(s,r,o,a):ni(Ye(n,c||s,void 0,i,!1),r,o,a);u.level="error",ii(t,c,u,"onerror")})}function Vr(){D("unhandledrejection",e=>{const[t,n,i]=si();if(!t.getIntegration(j))return;let s=e;try{"reason"in e?s=e.reason:"detail"in e&&"reason"in e.detail&&(s=e.detail.reason)}catch{}if(Qn()||s&&s.__sentry_own_request__)return!0;const r=Nn(s)?Kr(s):Ye(n,s,void 0,i,!0);r.level="error",ii(t,s,r,"onunhandledrejection")})}function Kr(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function Qr(e,t,n,i){const s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let r=xn(e)?e.message:e,o="Error";const a=r.match(s);return a&&(o=a[1],r=a[2]),ni({exception:{values:[{type:o,value:r}]}},t,n,i)}function ni(e,t,n,i){const s=e.exception=e.exception||{},r=s.values=s.values||[],o=r[0]=r[0]||{},a=o.stacktrace=o.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(i,10))?void 0:i,l=isNaN(parseInt(n,10))?void 0:n,d=H(t)&&t.length>0?t:Ei();return c.length===0&&c.push({colno:u,filename:d,function:"?",in_app:!0,lineno:l}),e}function Zr(e){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`Global Handler attached: ${e}`)}function ii(e,t,n,i){Tt(n,{handled:!1,type:i}),e.captureEvent(n,{originalException:t})}function si(){const e=T(),t=e.getClient(),n=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,n.stackParser,n.attachStacktrace]}const to=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class Nt{static __initStatic(){this.id="TryCatch"}__init(){this.name=Nt.id}constructor(t){Nt.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t}}setupOnce(){this._options.setTimeout&&b(g,"setTimeout",fn),this._options.setInterval&&b(g,"setInterval",fn),this._options.requestAnimationFrame&&b(g,"requestAnimationFrame",eo),this._options.XMLHttpRequest&&"XMLHttpRequest"in g&&b(XMLHttpRequest.prototype,"send",no);const t=this._options.eventTarget;t&&(Array.isArray(t)?t:to).forEach(io)}}Nt.__initStatic();function fn(e){return function(...t){const n=t[0];return t[0]=ft(n,{mechanism:{data:{function:q(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}}function eo(e){return function(t){return e.apply(this,[ft(t,{mechanism:{data:{function:"requestAnimationFrame",handler:q(e)},handled:!0,type:"instrument"}})])}}function no(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&b(n,s,function(r){const o={mechanism:{data:{function:s,handler:q(r)},handled:!0,type:"instrument"}},a=we(r);return a&&(o.mechanism.data.handler=q(a)),ft(r,o)})}),e.apply(this,t)}}function io(e){const t=g,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(b(n,"addEventListener",function(i){return function(s,r,o){try{typeof r.handleEvent=="function"&&(r.handleEvent=ft(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:q(r),target:e},handled:!0,type:"instrument"}}))}catch{}return i.apply(this,[s,ft(r,{mechanism:{data:{function:"addEventListener",handler:q(r),target:e},handled:!0,type:"instrument"}}),o])}}),b(n,"removeEventListener",function(i){return function(s,r,o){const a=r;try{const c=a&&a.__sentry_wrapped__;c&&i.call(this,s,c,o)}catch{}return i.call(this,s,a,o)}}))}const so="cause",ro=5;class rt{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=rt.id}constructor(t={}){rt.prototype.__init.call(this),this._key=t.key||so,this._limit=t.limit||ro}setupOnce(){const t=T().getClient();t&&Be((n,i)=>{const s=T().getIntegration(rt);return s?oo(t.getOptions().stackParser,s._key,s._limit,n,i):n})}}rt.__initStatic();function oo(e,t,n,i,s){if(!i.exception||!i.exception.values||!s||!O(s.originalException,Error))return i;const r=ri(e,n,s.originalException,t);return i.exception.values=[...r,...i.exception.values],i}function ri(e,t,n,i,s=[]){if(!O(n[i],Error)||s.length+1>=t)return s;const r=Zn(e,n[i]);return ri(e,t,n[i],i,[r,...s])}class ot{constructor(){ot.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=ot.id}setupOnce(){Be(t=>{if(T().getIntegration(ot)){if(!g.navigator&&!g.location&&!g.document)return t;const n=t.request&&t.request.url||g.location&&g.location.href,{referrer:i}=g.document||{},{userAgent:s}=g.navigator||{},r={...t.request&&t.request.headers,...i&&{Referer:i},...s&&{"User-Agent":s}},o={...t.request,...n&&{url:n},headers:r};return{...t,request:o}}return t})}}ot.__initStatic();class at{constructor(){at.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=at.id}setupOnce(t,n){const i=s=>{if(s.type)return s;const r=n().getIntegration(at);if(r){try{if(ao(s,r._previousEvent))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return r._previousEvent=s}return r._previousEvent=s}return s};i.id=this.name,t(i)}}at.__initStatic();function ao(e,t){return t?!!(co(e,t)||uo(e,t)):!1}function co(e,t){const n=e.message,i=t.message;return!(!n&&!i||n&&!i||!n&&i||n!==i||!ai(e,t)||!oi(e,t))}function uo(e,t){const n=_n(t),i=_n(e);return!(!n||!i||n.type!==i.type||n.value!==i.value||!ai(e,t)||!oi(e,t))}function oi(e,t){let n=pn(e),i=pn(t);if(!n&&!i)return!0;if(n&&!i||!n&&i||(n=n,i=i,i.length!==n.length))return!1;for(let s=0;s<i.length;s++){const r=i[s],o=n[s];if(r.filename!==o.filename||r.lineno!==o.lineno||r.colno!==o.colno||r.function!==o.function)return!1}return!0}function ai(e,t){let n=e.fingerprint,i=t.fingerprint;if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;n=n,i=i;try{return n.join("")===i.join("")}catch{return!1}}function _n(e){return e.exception&&e.exception.values&&e.exception.values[0]}function pn(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}const lo=[new st,new Rt,new Nt,new xt,new j,new rt,new at,new ot];function fo(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=lo),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),g.SENTRY_RELEASE&&g.SENTRY_RELEASE.id&&(e.release=g.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);const t={...e,stackParser:ki(e.stackParser||Xr),integrations:Ws(e),transport:e.transport||(An()?kr:Or)};ir(wr,t),e.autoSessionTracking&&_o()}function hn(e){e.startSession({ignoreDuration:!0}),e.captureSession()}function _o(){if(typeof g.document>"u"){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}const e=T();e.captureSession&&(hn(e),D("history",({from:t,to:n})=>{t===void 0||t===n||hn(T())}))}function h(e){let t,n=e[0],i=1;for(;i<e.length;){const s=e[i],r=e[i+1];if(i+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=r(n)):(s==="call"||s==="optionalCall")&&(n=r((...o)=>n.call(t,...o)),t=void 0)}return n}function Z(e){const t=h([e,"call",i=>i(),"access",i=>i.getClient,"call",i=>i(),"optionalAccess",i=>i.getOptions,"call",i=>i()]);return(h([t,"optionalAccess",i=>i.instrumenter])||"sentry")!=="sentry"}class jt{static __initStatic(){this.id="Express"}__init(){this.name=jt.id}constructor(t={}){jt.prototype.__init.call(this),this._router=t.router||t.app,this._methods=(Array.isArray(t.methods)?t.methods:[]).concat("use")}setupOnce(t,n){if(!this._router){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.error("ExpressIntegration is missing an Express instance");return}if(Z(n)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("Express Integration is skipped because of instrumenter configuration.");return}mo(this._router,this._methods),go(this._router)}}jt.__initStatic();function mn(e,t){const n=e.length;switch(n){case 2:return function(i,s){const r=s.__sentry_transaction;if(r){const o=r.startChild({description:e.name,op:`middleware.express.${t}`});s.once("finish",()=>{o.finish()})}return e.call(this,i,s)};case 3:return function(i,s,r){const o=s.__sentry_transaction,a=h([o,"optionalAccess",c=>c.startChild,"call",c=>c({description:e.name,op:`middleware.express.${t}`})]);e.call(this,i,s,function(...c){h([a,"optionalAccess",u=>u.finish,"call",u=>u()]),r.call(this,...c)})};case 4:return function(i,s,r,o){const a=r.__sentry_transaction,c=h([a,"optionalAccess",u=>u.startChild,"call",u=>u({description:e.name,op:`middleware.express.${t}`})]);e.call(this,i,s,r,function(...u){h([c,"optionalAccess",l=>l.finish,"call",l=>l()]),o.call(this,...u)})};default:throw new Error(`Express middleware takes 2-4 arguments. Got: ${n}`)}}function po(e,t){return e.map(n=>typeof n=="function"?mn(n,t):Array.isArray(n)?n.map(i=>typeof i=="function"?mn(i,t):i):n)}function ho(e,t){const n=e[t];return e[t]=function(...i){return n.call(this,...po(i,t))},e}function mo(e,t=[]){t.forEach(n=>ho(e,n))}function go(e){const t="settings"in e;t&&e._router===void 0&&e.lazyrouter&&e.lazyrouter();const n=t?e._router:e;if(!n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.debug("Cannot instrument router for URL Parameterization (did not find a valid router)."),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.debug("Routing instrumentation is currently only supported in Express 4.");return}const i=Object.getPrototypeOf(n),s=i.process_params;i.process_params=function(o,a,c,u,l){c._reconstructedRoute||(c._reconstructedRoute="");const{layerRoutePath:d,isRegex:p,isArray:_,numExtraSegments:m}=yo(o);(d||p||_)&&(c._hasParameters=!0);const tt=(d||o.path||"").split("/").filter(et=>et.length>0&&(p||_||!et.includes("*"))).join("/");tt&&tt.length>0&&(c._reconstructedRoute+=`/${tt}${p?"/":""}`);const se=Ct(c.originalUrl||"")+m,li=Ct(c._reconstructedRoute);if(se===li){c._hasParameters||c._reconstructedRoute!==c.originalUrl&&(c._reconstructedRoute=c.originalUrl);const et=u.__sentry_transaction;if(et&&et.metadata.source!=="custom"){const fi=c._reconstructedRoute||"/";et.setName(...ns(c,{path:!0,method:!0,customRoute:fi}))}}return s.call(this,o,a,c,u,l)}}function yo(e){const t=h([e,"access",o=>o.route,"optionalAccess",o=>o.path]),n=wn(t),i=Array.isArray(t);if(!t)return{isRegex:n,isArray:i,numExtraSegments:0};const s=i?Math.max(Eo(t)-Ct(e.path||""),0):0;return{layerRoutePath:So(i,t),isRegex:n,isArray:i,numExtraSegments:s}}function Eo(e){return e.reduce((t,n)=>t+Ct(n.toString()),0)}function So(e,t){return e?t.map(n=>n.toString()).join(","):t&&t.toString()}class Ht{static __initStatic(){this.id="Postgres"}__init(){this.name=Ht.id}constructor(t={}){Ht.prototype.__init.call(this),this._usePgNative=!!t.usePgNative}setupOnce(t,n){if(Z(n)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("Postgres Integration is skipped because of instrumenter configuration.");return}const i=K("pg");if(!i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.error("Postgres Integration was unable to require `pg` package.");return}if(this._usePgNative&&!h([i,"access",r=>r.native,"optionalAccess",r=>r.Client])){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.error("Postgres Integration was unable to access 'pg-native' bindings.");return}const{Client:s}=this._usePgNative?i.native:i;b(s.prototype,"query",function(r){return function(o,a,c){const u=n().getScope(),l=h([u,"optionalAccess",_=>_.getSpan,"call",_=>_()]),d=h([l,"optionalAccess",_=>_.startChild,"call",_=>_({description:typeof o=="string"?o:o.text,op:"db"})]);if(typeof c=="function")return r.call(this,o,a,function(_,m){h([d,"optionalAccess",w=>w.finish,"call",w=>w()]),c(_,m)});if(typeof a=="function")return r.call(this,o,function(_,m){h([d,"optionalAccess",w=>w.finish,"call",w=>w()]),a(_,m)});const p=typeof a<"u"?r.call(this,o,a):r.call(this,o);return z(p)?p.then(_=>(h([d,"optionalAccess",m=>m.finish,"call",m=>m()]),_)):(h([d,"optionalAccess",_=>_.finish,"call",_=>_()]),p)}})}}Ht.__initStatic();class qt{constructor(){qt.prototype.__init.call(this)}static __initStatic(){this.id="Mysql"}__init(){this.name=qt.id}setupOnce(t,n){if(Z(n)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("Mysql Integration is skipped because of instrumenter configuration.");return}const i=K("mysql/lib/Connection.js");if(!i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.error("Mysql Integration was unable to require `mysql` package.");return}b(i,"createQuery",function(s){return function(r,o,a){const c=n().getScope(),u=h([c,"optionalAccess",d=>d.getSpan,"call",d=>d()]),l=h([u,"optionalAccess",d=>d.startChild,"call",d=>d({description:typeof r=="string"?r:r.sql,op:"db"})]);return typeof a=="function"?s.call(this,r,o,function(d,p,_){h([l,"optionalAccess",m=>m.finish,"call",m=>m()]),a(d,p,_)}):typeof o=="function"?s.call(this,r,function(d,p,_){h([l,"optionalAccess",m=>m.finish,"call",m=>m()]),o(d,p,_)}):s.call(this,r,o,a)}})}}qt.__initStatic();const bo=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],To={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]};function vo(e){return e&&typeof e=="object"&&e.once&&typeof e.once=="function"}class zt{static __initStatic(){this.id="Mongo"}__init(){this.name=zt.id}constructor(t={}){zt.prototype.__init.call(this),this._operations=Array.isArray(t.operations)?t.operations:bo,this._describeOperations="describeOperations"in t?t.describeOperations:!0,this._useMongoose=!!t.useMongoose}setupOnce(t,n){if(Z(n)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("Mongo Integration is skipped because of instrumenter configuration.");return}const i=this._useMongoose?"mongoose":"mongodb",s=K(i);if(!s){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.error(`Mongo Integration was unable to require \`${i}\` package.`);return}this._instrumentOperations(s.Collection,this._operations,n)}_instrumentOperations(t,n,i){n.forEach(s=>this._patchOperation(t,s,i))}_patchOperation(t,n,i){if(!(n in t.prototype))return;const s=this._getSpanContextFromOperationArguments.bind(this);b(t.prototype,n,function(r){return function(...o){const a=o[o.length-1],c=i().getScope(),u=h([c,"optionalAccess",d=>d.getSpan,"call",d=>d()]);if(typeof a!="function"||n==="mapReduce"&&o.length===2){const d=h([u,"optionalAccess",_=>_.startChild,"call",_=>_(s(this,n,o))]),p=r.call(this,...o);if(z(p))return p.then(_=>(h([d,"optionalAccess",m=>m.finish,"call",m=>m()]),_));if(vo(p)){const _=p;try{_.once("close",()=>{h([d,"optionalAccess",m=>m.finish,"call",m=>m()])})}catch{h([d,"optionalAccess",w=>w.finish,"call",w=>w()])}return _}else return h([d,"optionalAccess",_=>_.finish,"call",_=>_()]),p}const l=h([u,"optionalAccess",d=>d.startChild,"call",d=>d(s(this,n,o.slice(0,-1)))]);return r.call(this,...o.slice(0,-1),function(d,p){h([l,"optionalAccess",_=>_.finish,"call",_=>_()]),a(d,p)})}})}_getSpanContextFromOperationArguments(t,n,i){const s={collectionName:t.collectionName,dbName:t.dbName,namespace:t.namespace},r={op:"db",description:n,data:s},o=To[n],a=Array.isArray(this._describeOperations)?this._describeOperations.includes(n):this._describeOperations;if(!o||!a)return r;try{if(n==="mapReduce"){const[c,u]=i;s[o[0]]=typeof c=="string"?c:c.name||"<anonymous>",s[o[1]]=typeof u=="string"?u:u.name||"<anonymous>"}else for(let c=0;c<o.length;c++)s[o[c]]=JSON.stringify(i[c])}catch{}return r}}zt.__initStatic();function Ro(e){return e&&!!e.$use}class Wt{static __initStatic(){this.id="Prisma"}__init(){this.name=Wt.id}constructor(t={}){Wt.prototype.__init.call(this),Ro(t.client)?this._client=t.client:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`Unsupported Prisma client provided to PrismaIntegration. Provided client: ${JSON.stringify(t.client)}`)}setupOnce(t,n){if(!this._client){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.error("PrismaIntegration is missing a Prisma Client Instance");return}if(Z(n)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("Prisma Integration is skipped because of instrumenter configuration.");return}this._client.$use((i,s)=>{const r=n().getScope(),o=h([r,"optionalAccess",d=>d.getSpan,"call",d=>d()]),a=i.action,c=i.model,u=h([o,"optionalAccess",d=>d.startChild,"call",d=>d({description:c?`${c} ${a}`:a,op:"db.sql.prisma"})]),l=s(i);return z(l)?l.then(d=>(h([u,"optionalAccess",p=>p.finish,"call",p=>p()]),d)):(h([u,"optionalAccess",d=>d.finish,"call",d=>d()]),l)})}}Wt.__initStatic();class Xt{constructor(){Xt.prototype.__init.call(this)}static __initStatic(){this.id="GraphQL"}__init(){this.name=Xt.id}setupOnce(t,n){if(Z(n)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("GraphQL Integration is skipped because of instrumenter configuration.");return}const i=K("graphql/execution/execute.js");if(!i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.error("GraphQL Integration was unable to require graphql/execution package.");return}b(i,"execute",function(s){return function(...r){const o=n().getScope(),a=h([o,"optionalAccess",l=>l.getSpan,"call",l=>l()]),c=h([a,"optionalAccess",l=>l.startChild,"call",l=>l({description:"execute",op:"graphql.execute"})]);h([o,"optionalAccess",l=>l.setSpan,"call",l=>l(c)]);const u=s.call(this,...r);return z(u)?u.then(l=>(h([c,"optionalAccess",d=>d.finish,"call",d=>d()]),h([o,"optionalAccess",d=>d.setSpan,"call",d=>d(a)]),l)):(h([c,"optionalAccess",l=>l.finish,"call",l=>l()]),h([o,"optionalAccess",l=>l.setSpan,"call",l=>l(a)]),u)}})}}Xt.__initStatic();class Jt{static __initStatic(){this.id="Apollo"}__init(){this.name=Jt.id}constructor(t={useNestjs:!1}){Jt.prototype.__init.call(this),this._useNest=!!t.useNestjs}setupOnce(t,n){if(Z(n)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("Apollo Integration is skipped because of instrumenter configuration.");return}if(this._useNest){const i=K("@nestjs/graphql");if(!i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.error("Apollo-NestJS Integration was unable to require @nestjs/graphql package.");return}b(i.GraphQLFactory.prototype,"mergeWithSchema",function(s){return function(...r){return b(this.resolversExplorerService,"explore",function(o){return function(){const a=Pt(o.call(this));return gn(a,n)}}),s.call(this,...r)}})}else{const i=K("apollo-server-core");if(!i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.error("Apollo Integration was unable to require apollo-server-core package.");return}b(i.ApolloServerBase.prototype,"constructSchema",function(s){return function(){if(!this.config.resolvers)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&(this.config.schema?(f.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `schema` property.If you are using NestJS with Apollo, please use `Sentry.Integrations.Apollo({ useNestjs: true })` instead."),f.warn()):this.config.modules&&f.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `modules` property."),f.error("Skipping tracing as no resolvers found on the `ApolloServer` instance.")),s.call(this);const r=Pt(this.config.resolvers);return this.config.resolvers=gn(r,n),s.call(this)}})}}}Jt.__initStatic();function gn(e,t){return e.map(n=>(Object.keys(n).forEach(i=>{Object.keys(n[i]).forEach(s=>{typeof n[i][s]=="function"&&xo(n,i,s,t)})}),n))}function xo(e,t,n,i){b(e[t],n,function(s){return function(...r){const o=i().getScope(),a=h([o,"optionalAccess",l=>l.getSpan,"call",l=>l()]),c=h([a,"optionalAccess",l=>l.startChild,"call",l=>l({description:`${t}.${n}`,op:"graphql.resolve"})]),u=s.call(this,...r);return z(u)?u.then(l=>(h([c,"optionalAccess",d=>d.finish,"call",d=>d()]),l)):(h([c,"optionalAccess",l=>l.finish,"call",l=>l()]),u)}})}const y=I;function No(){y&&y.document?y.document.addEventListener("visibilitychange",()=>{const e=te();if(y.document.hidden&&e){const t="cancelled";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${e.op}`),e.status||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.finish()}}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const $e=(e,t,n)=>{let i,s;return r=>{t.value>=0&&(r||n)&&(s=t.value-(i||0),(s||i===void 0)&&(i=t.value,t.delta=s,e(t)))}},wo=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Do=()=>{const e=y.performance.timing,t=y.performance.navigation.type,n={entryType:"navigation",startTime:0,type:t==2?"back_forward":t===1?"reload":"navigate"};for(const i in e)i!=="navigationStart"&&i!=="toJSON"&&(n[i]=Math.max(e[i]-e.navigationStart,0));return n},ci=()=>y.__WEB_VITALS_POLYFILL__?y.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||Do()):y.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],ui=()=>{const e=ci();return e&&e.activationStart||0},Pe=(e,t)=>{const n=ci();let i="navigate";return n&&(y.document.prerendering||ui()>0?i="prerender":i=n.type.replace(/_/g,"-")),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:wo(),navigationType:i}},Dt=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const i=new PerformanceObserver(s=>{t(s.getEntries())});return i.observe(Object.assign({type:e,buffered:!0},n||{})),i}}catch{}},ie=(e,t)=>{const n=i=>{(i.type==="pagehide"||y.document.visibilityState==="hidden")&&(e(i),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},Io=e=>{const t=Pe("CLS",0);let n,i=0,s=[];const r=a=>{a.forEach(c=>{if(!c.hadRecentInput){const u=s[0],l=s[s.length-1];i&&s.length!==0&&c.startTime-l.startTime<1e3&&c.startTime-u.startTime<5e3?(i+=c.value,s.push(c)):(i=c.value,s=[c]),i>t.value&&(t.value=i,t.entries=s,n&&n())}})},o=Dt("layout-shift",r);if(o){n=$e(e,t);const a=()=>{r(o.takeRecords()),n(!0)};return ie(a),a}};let Lt=-1;const ko=()=>y.document.visibilityState==="hidden"&&!y.document.prerendering?0:1/0,Bo=()=>{ie(({timeStamp:e})=>{Lt=e},!0)},Me=()=>(Lt<0&&(Lt=ko(),Bo()),{get firstHiddenTime(){return Lt}}),Oo=e=>{const t=Me(),n=Pe("FID");let i;const s=a=>{a.startTime<t.firstHiddenTime&&(n.value=a.processingStart-a.startTime,n.entries.push(a),i(!0))},r=a=>{a.forEach(s)},o=Dt("first-input",r);i=$e(e,n),o&&ie(()=>{r(o.takeRecords()),o.disconnect()},!0)},yn={},Uo=e=>{const t=Me(),n=Pe("LCP");let i;const s=o=>{const a=o[o.length-1];if(a){const c=Math.max(a.startTime-ui(),0);c<t.firstHiddenTime&&(n.value=c,n.entries=[a],i())}},r=Dt("largest-contentful-paint",s);if(r){i=$e(e,n);const o=()=>{yn[n.id]||(s(r.takeRecords()),r.disconnect(),yn[n.id]=!0,i(!0))};return["keydown","click"].forEach(a=>{addEventListener(a,o,{once:!0,capture:!0})}),ie(o,!0),o}};function le(e){return typeof e=="number"&&isFinite(e)}function _t(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}function R(e){return e/1e3}function di(){return y&&y.addEventListener&&y.performance}let En=0,v={},B,bt;function Go(){const e=di();if(e&&dt){e.mark&&y.performance.mark("sentry-tracing-init"),Po();const t=Lo(),n=$o();return()=>{t&&t(),n&&n()}}return()=>{}}function Ao(){Dt("longtask",t=>{for(const n of t){const i=te();if(!i)return;const s=R(dt+n.startTime),r=R(n.duration);i.startChild({description:"Main UI thread blocked",op:"ui.long-task",startTimestamp:s,endTimestamp:s+r})}})}function Yo(){Dt("event",t=>{for(const n of t){const i=te();if(!i)return;if(n.name==="click"){const s=R(dt+n.startTime),r=R(n.duration);i.startChild({description:ut(n.target),op:`ui.interaction.${n.name}`,startTimestamp:s,endTimestamp:s+r})}}},{durationThreshold:0})}function Lo(){return Io(e=>{const t=e.entries.pop();t&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Measurements] Adding CLS"),v.cls={value:e.value,unit:""},bt=t)})}function $o(){return Uo(e=>{const t=e.entries.pop();t&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Measurements] Adding LCP"),v.lcp={value:e.value,unit:"millisecond"},B=t)})}function Po(){Oo(e=>{const t=e.entries.pop();if(!t)return;const n=R(dt),i=R(t.startTime);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Measurements] Adding FID"),v.fid={value:e.value,unit:"millisecond"},v["mark.fid"]={value:n+i,unit:"second"}})}function Mo(e){const t=di();if(!t||!y.performance.getEntries||!dt)return;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Tracing] Adding & adjusting spans using Performance API");const n=R(dt),i=t.getEntries();let s,r;if(i.slice(En).forEach(o=>{const a=R(o.startTime),c=R(o.duration);if(!(e.op==="navigation"&&n+a<e.startTimestamp))switch(o.entryType){case"navigation":{Fo(e,o,n),s=n+R(o.responseStart),r=n+R(o.requestStart);break}case"mark":case"paint":case"measure":{Co(e,o,a,c,n);const u=Me(),l=o.startTime<u.firstHiddenTime;o.name==="first-paint"&&l&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Measurements] Adding FP"),v.fp={value:o.startTime,unit:"millisecond"}),o.name==="first-contentful-paint"&&l&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Measurements] Adding FCP"),v.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":{const u=o.name.replace(y.location.origin,"");Ho(e,o,u,a,c,n);break}}}),En=Math.max(i.length-1,0),qo(e),e.op==="pageload"){typeof s=="number"&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Measurements] Adding TTFB"),v.ttfb={value:(s-e.startTimestamp)*1e3,unit:"millisecond"},typeof r=="number"&&r<=s&&(v["ttfb.requestTime"]={value:(s-r)*1e3,unit:"millisecond"})),["fcp","fp","lcp"].forEach(a=>{if(!v[a]||n>=e.startTimestamp)return;const c=v[a].value,u=n+R(c),l=Math.abs((u-e.startTimestamp)*1e3),d=l-c;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`[Measurements] Normalized ${a} from ${c} to ${l} (${d})`),v[a].value=l});const o=v["mark.fid"];o&&v.fid&&(_t(e,{description:"first input delay",endTimestamp:o.value+R(v.fid.value),op:"ui.action",startTimestamp:o.value}),delete v["mark.fid"]),"fcp"in v||delete v.cls,Object.keys(v).forEach(a=>{e.setMeasurement(a,v[a].value,v[a].unit)}),zo(e)}B=void 0,bt=void 0,v={}}function Co(e,t,n,i,s){const r=s+n,o=r+i;return _t(e,{description:t.name,endTimestamp:o,op:t.entryType,startTimestamp:r}),r}function Fo(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(i=>{Gt(e,t,i,n)}),Gt(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),Gt(e,t,"fetch",n,"cache","domainLookupStart"),Gt(e,t,"domainLookup",n,"DNS"),jo(e,t,n)}function Gt(e,t,n,i,s,r){const o=r?t[r]:t[`${n}End`],a=t[`${n}Start`];!a||!o||_t(e,{op:"browser",description:s||n,startTimestamp:i+R(a),endTimestamp:i+R(o)})}function jo(e,t,n){_t(e,{op:"browser",description:"request",startTimestamp:n+R(t.requestStart),endTimestamp:n+R(t.responseEnd)}),_t(e,{op:"browser",description:"response",startTimestamp:n+R(t.responseStart),endTimestamp:n+R(t.responseEnd)})}function Ho(e,t,n,i,s,r){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o={};"transferSize"in t&&(o["Transfer Size"]=t.transferSize),"encodedBodySize"in t&&(o["Encoded Body Size"]=t.encodedBodySize),"decodedBodySize"in t&&(o["Decoded Body Size"]=t.decodedBodySize),"renderBlockingStatus"in t&&(o["resource.render_blocking_status"]=t.renderBlockingStatus);const a=r+i,c=a+s;_t(e,{description:n,endTimestamp:c,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",startTimestamp:a,data:o})}function qo(e){const t=y.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),le(n.rtt)&&(v["connection.rtt"]={value:n.rtt,unit:"millisecond"})),le(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),le(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}function zo(e){B&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Measurements] Adding LCP Data"),B.element&&e.setTag("lcp.element",ut(B.element)),B.id&&e.setTag("lcp.id",B.id),B.url&&e.setTag("lcp.url",B.url.trim().slice(0,200)),e.setTag("lcp.size",B.size)),bt&&bt.sources&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Measurements] Adding CLS Data"),bt.sources.forEach((t,n)=>e.setTag(`cls.source.${n+1}`,ut(t.node))))}const be=["localhost",/^\//],Te={traceFetch:!0,traceXHR:!0,tracingOrigins:be,tracePropagationTargets:be};function Wo(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:i,tracingOrigins:s,shouldCreateSpanForRequest:r}={traceFetch:Te.traceFetch,traceXHR:Te.traceXHR,...e},o=typeof r=="function"?r:u=>!0,a=u=>Xo(u,i||s),c={};t&&D("fetch",u=>{Jo(u,o,a,c)}),n&&D("xhr",u=>{Ko(u,o,a,c)})}function Xo(e,t){return Kt(e,t||be)}function Jo(e,t,n,i){if(!Ge()||!(e.fetchData&&t(e.fetchData.url)))return;if(e.endTimestamp){const a=e.fetchData.__span;if(!a)return;const c=i[a];c&&(e.response?c.setHttpStatus(e.response.status):e.error&&c.setStatus("internal_error"),c.finish(),delete i[a]);return}const s=T().getScope(),r=s&&s.getSpan(),o=r&&r.transaction;if(r&&o){const a=r.startChild({data:{...e.fetchData,type:"fetch"},description:`${e.fetchData.method} ${e.fetchData.url}`,op:"http.client"});e.fetchData.__span=a.spanId,i[a.spanId]=a;const c=e.args[0];e.args[1]=e.args[1]||{};const u=e.args[1];n(e.fetchData.url)&&(u.headers=Vo(c,o.getDynamicSamplingContext(),a,u))}}function Vo(e,t,n,i){const s=Fn(t),r=n.toTraceparent(),o=typeof Request<"u"&&O(e,Request)?e.headers:i.headers;if(o)if(typeof Headers<"u"&&O(o,Headers)){const a=new Headers(o);return a.append("sentry-trace",r),s&&a.append(ye,s),a}else if(Array.isArray(o)){const a=[...o,["sentry-trace",r]];return s&&a.push([ye,s]),a}else{const a="baggage"in o?o.baggage:void 0,c=[];return Array.isArray(a)?c.push(...a):a&&c.push(a),s&&c.push(s),{...o,"sentry-trace":r,baggage:c.length>0?c.join(","):void 0}}else return{"sentry-trace":r,baggage:s}}function Ko(e,t,n,i){if(!Ge()||e.xhr&&e.xhr.__sentry_own_request__||!(e.xhr&&e.xhr.__sentry_xhr__&&t(e.xhr.__sentry_xhr__.url)))return;const s=e.xhr.__sentry_xhr__;if(e.endTimestamp){const c=e.xhr.__sentry_xhr_span_id__;if(!c)return;const u=i[c];u&&(u.setHttpStatus(s.status_code),u.finish(),delete i[c]);return}const r=T().getScope(),o=r&&r.getSpan(),a=o&&o.transaction;if(o&&a){const c=o.startChild({data:{...s.data,type:"xhr",method:s.method,url:s.url},description:`${s.method} ${s.url}`,op:"http.client"});if(e.xhr.__sentry_xhr_span_id__=c.spanId,i[e.xhr.__sentry_xhr_span_id__]=c,e.xhr.setRequestHeader&&n(e.xhr.__sentry_xhr__.url))try{e.xhr.setRequestHeader("sentry-trace",c.toTraceparent());const u=a.getDynamicSamplingContext(),l=Fn(u);l&&e.xhr.setRequestHeader(ye,l)}catch{}}}function Qo(e,t=!0,n=!0){if(!y||!y.location){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn("Could not initialize routing instrumentation due to invalid location");return}let i=y.location.href,s;t&&(s=e({name:y.location.pathname,op:"pageload",metadata:{source:"url"}})),n&&D("history",({to:r,from:o})=>{if(o===void 0&&i&&i.indexOf(r)!==-1){i=void 0;return}o!==r&&(i=void 0,s&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`[Tracing] Finishing current transaction with op: ${s.op}`),s.finish()),s=e({name:y.location.pathname,op:"navigation",metadata:{source:"url"}}))})}const Zo="BrowserTracing",ta={...Yt,markBackgroundTransactions:!0,routingInstrumentation:Qo,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...Te};class Ce{__init(){this.name=Zo}constructor(t){Ce.prototype.__init.call(this),zn(),this.options={...ta,...t},this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),t&&!t.tracePropagationTargets&&t.tracingOrigins&&(this.options.tracePropagationTargets=t.tracingOrigins),this._collectWebVitals=Go(),this.options.enableLongTask&&Ao(),this.options._experiments.enableInteractions&&Yo()}setupOnce(t,n){this._getCurrentHub=n;const{routingInstrumentation:i,startTransactionOnLocationChange:s,startTransactionOnPageLoad:r,markBackgroundTransactions:o,traceFetch:a,traceXHR:c,tracePropagationTargets:u,shouldCreateSpanForRequest:l,_experiments:d}=this.options;i(p=>{const _=this._createRouteTransaction(p);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(_,p,n),_},r,s),o&&No(),d.enableInteractions&&this._registerInteractionListener(),Wo({traceFetch:a,traceXHR:c,tracePropagationTargets:u,shouldCreateSpanForRequest:l})}_createRouteTransaction(t){if(!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`);return}const{beforeNavigate:n,idleTimeout:i,finalTimeout:s,heartbeatInterval:r}=this.options,o=t.op==="pageload",a=o?Sn("sentry-trace"):null,c=o?Sn("baggage"):null,u=a?cs(a):void 0,l=c?Ts(c):void 0,d={...t,...u,metadata:{...t.metadata,dynamicSamplingContext:u&&!l?{}:l},trimEnd:!0},p=typeof n=="function"?n(d):d,_=p===void 0?{...d,sampled:!1}:p;_.metadata=_.name!==d.name?{..._.metadata,source:"custom"}:_.metadata,this._latestRouteName=_.name,this._latestRouteSource=_.metadata&&_.metadata.source,_.sampled===!1&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`[Tracing] Will not send ${_.op} transaction because of beforeNavigate.`),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`[Tracing] Starting ${_.op} transaction on scope`);const m=this._getCurrentHub(),{location:w}=y,tt=on(m,_,i,s,!0,{location:w},r);return tt.registerBeforeFinishCallback(se=>{this._collectWebVitals(),Mo(se)}),tt}_registerInteractionListener(){let t;const n=()=>{const{idleTimeout:i,finalTimeout:s,heartbeatInterval:r}=this.options,o="ui.action.click";if(t&&(t.finish(),t=void 0),!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`[Tracing] Did not create ${o} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRouteName){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}const a=this._getCurrentHub(),{location:c}=y,u={name:this._latestRouteName,op:o,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};t=on(a,u,i,s,!0,{location:c},r)};["click"].forEach(i=>{addEventListener(i,n,{once:!1,capture:!0})})}}function Sn(e){const t=Si(`meta[name=${e}]`);return t?t.getAttribute("content"):null}function ea(){const e=gt();if(!e.__SENTRY__)return;const t={mongodb(){const i=P(A,"./node/integrations/mongo");return new i.Mongo},mongoose(){const i=P(A,"./node/integrations/mongo");return new i.Mongo({mongoose:!0})},mysql(){const i=P(A,"./node/integrations/mysql");return new i.Mysql},pg(){const i=P(A,"./node/integrations/postgres");return new i.Postgres}},n=Object.keys(t).filter(i=>!!K(i)).map(i=>{try{return t[i]()}catch{return}}).filter(i=>i);n.length>0&&(e.__SENTRY__.integrations=[...e.__SENTRY__.integrations||[],...n])}function na(){zn(),De()&&ea()}(typeof __SENTRY_TRACING__>"u"||__SENTRY_TRACING__)&&na();const ia=`
        <form id="form" class="space-y-8 divide-y divide-gray-200">
          <div class="space-y-8 divide-y divide-gray-200 sm:space-y-5">
            <div class="space-y-6 sm:space-y-5">
              <div>
                <h3 class="text-base font-semibold leading-6 text-gray-900">Instructions</h3>
                <p class="mt-2 text-sm text-gray-500">For each mouse enter your Name, Holding room ID, Cage ID & Mouse ID into the boxed below. You are able to upload up to three images of each mouse, with the system displaying an average score across all of the images uploaded.</p>
                <p class="mt-2 text-sm text-gray-500">If you are able to add a score form manual palpation for the mouse, we can further develop the system & increase the accuracy.</p>
                <p class="mt-2 text-sm text-gray-500">For further information on Body Condition Score (BCS) method please see: <span id="bcsGuideLink" class="text-indigo-600 font-bold cursor-pointer">BCS Guide</span></p>
                <p class="mt-2 text-sm text-gray-500">For detailed instructions for how to take optimal images please see: <span id="imageGuideLink" class="text-indigo-600 font-bold cursor-pointer">Image Guide</span></p>
              </div>

            <div id="errorMessage" class="hidden rounded-md bg-red-50 p-4">
              <div class="flex">
                <div class="flex-shrink-0">
                  <svg class="h-5 w-5 text-red-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z" clip-rule="evenodd" />
                  </svg>
                </div>
                <div class="ml-3">
                  <h3 class="text-sm font-medium text-red-800">There was an error with your submission</h3>
                  <div class="mt-2 text-sm text-red-700">
                    <p></p>
                  </div>
                </div>
              </div>
            </div>

            <div class="space-y-6 sm:space-y-5">
              <div class="sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:border-t sm:border-gray-200 sm:pt-5">
                <label for="observerName" class="block text-sm font-medium leading-6 text-gray-900 sm:pt-1.5">Observer Name <span class="text-gray-400">(Optional)</span></label>
                <div class="mt-2 sm:col-span-2 sm:mt-0">
                  <div class="flex max-w-lg rounded-md shadow-sm">
                    <input type="text" name="observerName" id="observerName" autocomplete="observerName" class="block w-full min-w-0 flex-1 rounded-md border-0 py-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
                  </div>
                </div>
              </div>

              <div class="sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:border-t sm:border-gray-200 sm:pt-5">
                <label for="roomID" class="block text-sm font-medium leading-6 text-gray-900 sm:pt-1.5">Room ID</label>
                <div class="mt-2 sm:col-span-2 sm:mt-0">
                  <div class="flex max-w-lg rounded-md shadow-sm">
                    <input required type="text" name="roomID" id="roomID" autocomplete="roomID" class="block w-full min-w-0 flex-1 rounded-md border-0 py-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
                  </div>
                </div>
              </div>

              <div class="sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:border-t sm:border-gray-200 sm:pt-5">
                <label for="cageID" class="block text-sm font-medium leading-6 text-gray-900 sm:pt-1.5">Cage ID</label>
                <div class="mt-2 sm:col-span-2 sm:mt-0">
                  <div class="flex max-w-lg rounded-md shadow-sm">
                    <input required type="text" name="cageID" id="cageID" autocomplete="cageID" class="block w-full min-w-0 flex-1 rounded-md border-0 py-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
                  </div>
                </div>
              </div>

              <div class="sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:border-t sm:border-gray-200 sm:pt-5">
                <label for="mouseID" class="block text-sm font-medium leading-6 text-gray-900 sm:pt-1.5">Mouse ID</label>
                <div class="mt-2 sm:col-span-2 sm:mt-0">
                  <div class="flex max-w-lg rounded-md shadow-sm">
                    <input required type="text" name="mouseID" id="mouseID" autocomplete="mouseID" class="block w-full min-w-0 flex-1 rounded-md border-0 py-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
                  </div>
                </div>
              </div>

              <div class="sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:border-t sm:border-gray-200 sm:pt-5">
                <label for="cover-photo" class="block text-sm font-medium leading-6 text-gray-900 sm:pt-1.5">Images <span class="text-gray-400">(Max 3)</span></label>
                <div class="mt-2 sm:col-span-2 sm:mt-0">
                  <div class="flex max-w-lg justify-center rounded-md border-2 border-dashed border-gray-300 px-6 pt-5 pb-6">
                    <div id="file-message" class="space-y-1 text-center">
                      <svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor" fill="none" viewBox="0 0 48 48" aria-hidden="true">
                        <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                      </svg>
                      <div class="flex text-sm text-gray-600">
                        <label for="file-upload" class="relative cursor-pointer rounded-md bg-white font-medium text-indigo-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2 hover:text-indigo-500">
                          <span>Upload files</span>
                          <input id="file-upload" name="file-upload" type="file" class="sr-only" multiple="multiple" required>
                        </label>
                        <p class="pl-1">or drag and drop</p>
                      </div>
                      <p class="text-xs text-gray-500">PNG, JPG, GIF up to 10MB</p>
                    </div>
                    <div id="file-list" class="hidden">
                    </div>
                  </div>
                </div>
              </div>

              <div class="sm:grid sm:grid-cols-3 sm:items-start sm:gap-4 sm:border-t sm:border-gray-200 sm:pt-5">
                <label for="palpationScore" class="block text-sm font-medium leading-6 text-gray-900 sm:pt-1.5">Palpation Score <span class="text-gray-400">(Optional)</span></label>
                <div class="mt-2 sm:col-span-2 sm:mt-0">
                  <div class="flex max-w-lg rounded-md shadow-sm">
                    <input type="text" name="palpationScore" id="palpationScore" autocomplete="palpationScore" class="block w-full min-w-0 flex-1 rounded-md border-0 py-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
                  </div>
                </div>
              </div>

            </div>
          </div>
          <div class="pt-5">
            <div class="flex justify-end gap-x-3">
              <button id="form-reset" type="button" class="rounded-md bg-white py-2 px-3 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50">
                Reset
              </button>
              <button id="submit" type="submit" class="inline-flex items-center px-4 py-2 font-semibold leading-6 text-sm shadow rounded-md text-white bg-indigo-500 hover:bg-indigo-400 transition ease-in-out duration-150">
                <svg class="hidden animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                  <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                  <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
                <span>Submit</span>
              </button>
            </div>
          </div>
        </form>
    `;async function sa(e){e.preventDefault(),bn();var t={method:"POST",body:new FormData(e.target),redirect:"follow"};console.log(t.body);let n=null;return fetch("https://mousemapp.azurewebsites.net/api/predict?code=72zqkChgmomeOZmmwH_-wT1fg6nxykamnJTExzALnKccAzFufDWatg==",t).then(i=>(n=i.status,i.json())).then(i=>{if(bn(),n===200)return i;ra(i.message)}).catch(i=>{throw new Error(i)})}function bn(){const e=document.getElementById("submit"),t=e.getElementsByTagName("span")[0].innerText==="Processing...";e.classList.toggle("cursor-not-allowed"),e.getElementsByTagName("span")[0].innerText=t?"Submit":"Processing...",e.getElementsByTagName("svg")[0].classList.toggle("hidden")}function ra(e){const t=document.getElementById("errorMessage");t.getElementsByTagName("p")[0].innerText=e,t.classList.toggle("hidden")}function oa(e){console.log(e);let t=null;e.observerName===""&&(e.observerName="None"),e.palpationScore===""&&(e.palpationScore="None");const n=`
        <div class="rounded-md bg-red-50 p-4 my-4">
            <div class="flex">
                <div class="flex-shrink-0">
                    <svg class="h-5 w-5 text-red-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z" clip-rule="evenodd" />
                    </svg>
                </div>
                <div class="ml-3">
                    <h3 class="text-sm font-medium text-red-800">Issue</h3>
                    <div class="mt-2 text-sm text-red-700">
                        <p>Immediate action required.</p>
                    </div>
                </div>
            </div>
        </div>
    `,i=`
        <div class="rounded-md bg-yellow-50 p-4 my-4">
            <div class="flex">
                <div class="flex-shrink-0">
                    <svg class="h-5 w-5 text-yellow-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                        <path fill-rule="evenodd" d="M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495zM10 5a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 5zm0 9a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" />
                    </svg>
                </div>
                <div class="ml-3">
                    <h3 class="text-sm font-medium text-yellow-800">Caution</h3>
                    <div class="mt-2 text-sm text-yellow-700">
                        <p>Further monitoring required, action may be needed.</p>
                    </div>
                </div>
            </div>
        </div>
    `,s=`
        <div class="rounded-md bg-green-50 p-4 my-4">
            <div class="flex">
                <div class="flex-shrink-0">
                    <svg class="h-5 w-5 text-green-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z" clip-rule="evenodd" />
                    </svg>
                </div>
                <div class="ml-3">
                    <h3 class="text-sm font-medium text-green-800">Normal</h3>
                    <div class="mt-2 text-sm text-green-700">
                        <p>No action required.</p>
                    </div>
                </div>
            </div>
        </div>
    `;switch(e.bcs){case 1:t=n;break;case 2:t=i;break;case 3:t=s;break;case 4:t=i;break;case 5:t=n;break}return`
    <div class="overflow-hidden">
        ${t}
        <div class="border-t border-gray-200 px-4 py-5 sm:p-0">
            <dl class="sm:divide-y sm:divide-gray-200">
                <div class="py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 sm:px-6">
                    <dt class="text-sm font-medium text-gray-500">Observer Name</dt>
                    <dd class="mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0 ${e.observerName==="None"?"italic":""}">${e.observerName}</dd>
                </div>
                <div class="py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 sm:px-6">
                    <dt class="text-sm font-medium text-gray-500">Room ID</dt>
                    <dd class="mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0">${e.roomID}</dd>
                </div>
                <div class="py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 sm:px-6">
                    <dt class="text-sm font-medium text-gray-500">Cage ID</dt>
                    <dd class="mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0">${e.cageID}</dd>
                </div>
                <div class="py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 sm:px-6">
                    <dt class="text-sm font-medium text-gray-500">Mouse ID</dt>
                    <dd class="mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0">${e.mouseID}</dd>
                </div>
                <div class="py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 sm:px-6">
                    <dt class="text-sm font-medium text-gray-500">Palpation Score</dt>
                    <dd class="mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0 ${e.palpationScore==="None"?"italic":""}">${e.palpationScore}</dd>
                </div>
                <div class="py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:py-5 sm:px-6">
                    <dt class="text-sm font-medium text-gray-500">Images</dt>
                    <dd class="mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0">
                        <ul role="list" class="mx-auto grid max-w-2xl grid-cols-1 gap-x-8 gap-y-16 sm:grid-cols-2 lg:mx-0 lg:max-w-none lg:grid-cols-3">
                            ${aa(e.images)}
                        </ul>
                    </dd>
                </div>
            </dl>
        </div>
    </div>
    <div class="pt-5">
        <div class="flex justify-end gap-x-3">
            <button id="return" type="button" class="inline-flex items-center px-4 py-2 font-semibold leading-6 text-sm shadow rounded-md text-white bg-indigo-500 hover:bg-indigo-400 transition ease-in-out duration-150">
                Return
            </button>
        </div>
    </div>
    `}function aa(e){let t="";return e.forEach(n=>{t+=`<li><img class="aspect-[3/2] w-full rounded-2xl object-cover" src="${n}" alt=""></li>`}),t}const ca="/assets/bcs-features-5d5fe1b5.png",ua="/assets/bcs-scale-369316f9.png",da="/assets/bw-top-ff2b63b6.jpg",la="/assets/bw-side-20bf442e.jpg",fa="/assets/heat-top-269c638f.jpg",_a="/assets/heat-side-17363099.jpg",pa=`
    <div class="space-y-6 sm:space-y-5">
        <div>
            <h3 class="text-base font-semibold leading-6 text-gray-900">Guide to Body Condition Scoring</h3>
            <p class="mt-2 text-sm text-gray-500">Body condition scoring (BCS) is a non-invasive method of assessing health & establishing endpoints in young (i.e. growing) & adult mice. BCS is often used when bodyweight cannot be viably monitored.</p>
            <p class="mt-2 text-sm text-gray-500">BCS scored on a 5-point scale developed by Burkholder et al. (2012)*</p>
        </div>
        <div>
            <img src="${ca}" alt="bcs-guide" class="mb-8 mx-auto" />
            <img src="${ua}" alt="bcs-guide" class="mx-auto" />
            <p class="mb-8 text-xs text-center text-gray-500">Burkholder et al. (2012) Curr Protoc Mouse Biol 2: 145165</p>
        </div>
        <div>
            <p class="mt-2 text-sm text-gray-500">Under normal circumstances BCS is scored using palpation determine muscle mass & fat covering over bony protuberances in sacral region of vertebrae (i.e., cranial base of the tail).</p>
        </div>
        <div class="pt-5 flex justify-end gap-x-3">
            <button type="button" class="back-link rounded-md bg-white py-2 px-3 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50">
                Back
            </button>
        </div>
    </div>
`,ha=`
    <div class="space-y-6 sm:space-y-5">
        <div>
            <h3 class="text-base font-semibold leading-6 text-gray-900">Guide to taking images</h3>
            <p class="mt-2 text-sm text-gray-500">Thermal images should be taken either using a thermal camera or thermal camera adapter for phone or table (e.g., FLIR ONE). The system can process images taken from two angles; side/profile view or top/overhead view. Examples of these can be seen below. You are able to upload up to three images of each mouse, with the system displaying an average score across all of the images uploaded.</p>
        </div>
        <div class="flex flex-row">
            <div class="basis-1/2 p-8">
                <h4 class="text-center font-bold mb-4">Side/Profile View</h4>
                <img src="${la}" alt="bcs-guide" class="w-full mb-4" />
                <img src="${_a}" alt="bcs-guide" class="w-full" />
            </div>
            <div class="basis-1/2 p-8">
            <h4 class="text-center font-bold mb-4">Top/Overhead View</h4>
                <img src="${da}" alt="bcs-guide" class="w-full mb-4" />
                <img src="${fa}" alt="bcs-guide" class="w-full" />
            </div>
        </div>
        <div class="pt-5 flex justify-end gap-x-3">
            <button type="button" class="back-link rounded-md bg-white py-2 px-3 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50">
                Back
            </button>
        </div>
    </div>
`,ma="/assets/mice-7dbddb56.png";document.querySelector("#app").innerHTML=`
  <div class="bg-gradient-to-r from-cyan-500 to-blue-500">
    <div class="h-screen relative isolate pt-12 px-6 sm:pt-16 lg:px-8 bg-cover bg-center" style="background-image:url('${ma}')">
      <div class="mx-auto max-w-2xl text-center">
        <h2 class="text-4xl font-bold tracking-tight text-white sm:text-6xl mb-10">Mouse MApp  Body Condition Scoring</h2>
        <h4 class="text-2xl tracking-tight text-white sm:text-4xl">An image classifier for the assessment of body condition (BCS) in mice</h4>
      </div>
      <div id="content" class="mx-auto max-w-4xl rounded-none rounded-t-lg bg-white p-10 mt-10 drop-shadow-lg">
        <div id="bcsForm" data-active="true"></div>
        <div id="bcsResults" class="hidden"></div>
        <div id="imageGuide" class="hidden"></div>
        <div id="bcsGuide" class="hidden"></div>
      </div>
    </div>
  </div>
`;const E=document.getElementById("bcsForm"),V=document.getElementById("bcsResults"),pt=document.getElementById("imageGuide"),ht=document.getElementById("bcsGuide");E.innerHTML=ia;pt.innerHTML=ha;ht.innerHTML=pa;E.querySelector("#imageGuideLink").addEventListener("click",()=>{E.classList.add("hidden"),V.classList.add("hidden"),pt.classList.remove("hidden"),ht.classList.add("hidden")});E.querySelector("#bcsGuideLink").addEventListener("click",()=>{E.classList.add("hidden"),V.classList.add("hidden"),pt.classList.add("hidden"),ht.classList.remove("hidden")});const Tn=document.getElementsByClassName("back-link");for(let e=0;e<Tn.length;e++)Tn[e].addEventListener("click",()=>{E.classList.remove("hidden"),V.classList.add("hidden"),pt.classList.add("hidden"),ht.classList.add("hidden")});E.querySelector("#form-reset").addEventListener("click",()=>{E.querySelector("#file-list").innerHTML="",E.querySelector("#file-message").classList.remove("hidden"),E.querySelector("#file-list").classList.add("hidden"),E.querySelector("#form").reset()});E.querySelector("#file-upload").addEventListener("change",()=>{console.log(E.querySelector("#file-upload").files);let e="",t=E.querySelector("#file-upload").files.length<4?E.querySelector("#file-upload").files.length:3;for(let n=0;n<t;n++)e+=`
      <span class="inline-flex items-center rounded-full bg-indigo-100 py-0.5 px-2.5 mb-2.5 text-sm font-medium text-indigo-700">
        ${E.querySelector("#file-upload").files[n].name}
      </span>`;E.querySelector("#file-list").innerHTML=e,E.querySelector("#file-message").classList.add("hidden"),E.querySelector("#file-list").classList.remove("hidden")});E.querySelector("#form").addEventListener("submit",e=>{e.preventDefault();const t=[];for(let n=0;n<E.querySelector("#file-upload").files.length;n++)t.push(URL.createObjectURL(E.querySelector("#file-upload").files[n]));sa(e).then(n=>{n.images=t,V.innerHTML=oa(n),V.querySelector("#return").addEventListener("click",()=>{E.classList.remove("hidden"),V.classList.add("hidden"),pt.classList.add("hidden"),ht.classList.add("hidden")}),E.classList.add("hidden"),V.classList.remove("hidden"),pt.classList.add("hidden"),ht.classList.add("hidden")})});location.hostname!=="localhost"&&location.hostname!=="127.0.0.1"&&fo({dsn:"https://b09b80983a54445bbfa01657e146178a@o1080315.ingest.sentry.io/4504660631879680",integrations:[new Ce],environment:"Production",tracesSampleRate:1});window.location.hostname==="htandme.co.uk"&&Sentry.init({dsn:"https://b09b80983a54445bbfa01657e146178a@o1080315.ingest.sentry.io/4504660631879680",tracesSampleRate:1,environment:"Production"})});export default ga();
